
<!DOCTYPE html>
<html>









 
  

                


















 



<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta http-equiv="title" content="Enter Your Info Page">
<meta name="format-detection" content="telephone=no">

    <style id="antiClickjack">body{display:none;}</style>
    <script type="text/javascript">
        if (self === top) {
            var antiClickjack = document.getElementById("antiClickjack");
            antiClickjack.parentNode.removeChild(antiClickjack);
        } else {
            top.location = self.location;
        }
	</script>


<!--<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"/> 
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />-->




<meta name="viewport" content="width=device-width; initial-scale=1,  minimum-scale=1,  maximum-scale=10, user-scalable=yes">

        <meta http-equiv="keywords" content="I just got a free beverage by signing up for DD Perks! You can too at www.ddperks.com." >
        <meta http-equiv="description" content="I just got a free beverage by signing up for DD Perks! You can too at www.ddperks.com.">
	    <meta http-equiv="description" content="I just got a free beverage by signing up for DD Perks! You can too at www.ddperks.com." />
	    <meta property="og:description" content="I just got a free beverage by signing up for DD Perks! You can too at www.ddperks.com." />


<meta property="og:type" content="website">
<meta property="og:title" content="Splash Page | Dunkin' Donuts" />
<meta property="og:site_name" content="My Favorite News"/>
<meta property="og:url" content="http://www.dunkindonuts.com/dunkindonuts/en/responsive/ddperks/enteryourinfo.html" />


<meta property="og:image" content="/etc/designs/dunkindonuts/images/DD_Logo_share.jpg">

<link rel="image_src" href="/etc/designs/dunkindonuts/images/DD_Logo_share.jpg">
<link rel="apple-touch-icon" href="/content/dam/Dunkin_Donuts/icons/touch-icon-iphone.png"/>
<link rel="apple-touch-icon" sizes="72x72" href="/content/dam/Dunkin_Donuts/icons/touch-icon-ipad.png"/>
<link rel="apple-touch-icon" sizes="114x114" href="/content/dam/Dunkin_Donuts/icons/touch-icon-iphone4.png"/>
<link rel="shortcut icon" type="image/ico" href="/content/dam/Dunkin_Donuts/icons/favicon.ico"/>


<title>Enter Your Info Page
    | Dunkin' Donuts</title>

<link rel="stylesheet" href="/etc/designs/dunkindonuts/responsive/clientlibs/responsive_publish.css" type="text/css">

  
<link rel="stylesheet" href="/etc/designs/dunkindonuts/responsive/clientlibs/ddperks_clientlib_base.css" type="text/css">

<!--[if lt IE 9]>      

<script src="/etc/designs/dunkindonuts/responsive/clientlibs/responsive_clientlib_base/js/modernizr-2.6.2.min.js"></script>

<script src="/etc/designs/dunkindonuts/responsive/clientlibs/responsive_clientlib_base/js/respond.js"></script>

<![endif]-->


<script type="text/javascript" src="/etc/clientlibs/granite/jquery.js"></script>
<script type="text/javascript" src="/etc/clientlibs/granite/utils.js"></script>
<script type="text/javascript" src="/etc/clientlibs/granite/jquery/granite.js"></script>
<script type="text/javascript" src="/etc/clientlibs/foundation/jquery.js"></script>
<script type="text/javascript" src="/etc/clientlibs/foundation/shared.js"></script>
   
<script type="text/javascript" src="/etc/designs/dunkindonuts/responsive/clientlibs/ddperks_clientlib_base.js"></script>

<link rel="stylesheet" href="/etc/designs/dunkindonuts/common_clientlib_analytics.css" type="text/css">
<script type="text/javascript" src="/etc/designs/dunkindonuts/common_clientlib_analytics.js"></script>

  






<script>
    CQ.I18n.setLocale('en');
</script>
</head>
<script type="text/javascript"> 
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function()
{ (i[r].q=i[r].q||[]).push(arguments)}

,i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-63718010-1', 'auto');
ga('send', 'pageview');
</script>






 
  

                




 



                




   


<body>

    

    
    <noscript>    
        <div class="noscriptmsg">
            You don't have javascript enabled. This site requires JavaScript to function properly.    
        </div>
    </noscript>
    <div id="main-wrapper">
         





 
  

                




 
 
 
 
 





 
  

                


















<script>
if (window.sessionTimer){
      clearTimeout(sessionTimer);
    }
    var sessionTimer = setTimeout(function() {
      
      sessionStorage.clear();
    }, 10*60*1000);

</script>

        
        
        
        
        
            <!--Header-->
            <header id="loyalty-header" class="row col-xs-12 col-md-12 col-sm-12 col-lg-12">
                <section class="top-head">
            <div class="dd-logo">
            <a href="/dunkindonuts/en.html"> 
                
                            
   <span data-picture data-alt="">


   
    		 <span data-src='/content/dam/Dunkin_Donuts/Responsive/ddperks/DDlogo.png/jcr:content/renditions/cq5dam.thumbnail.48.48.png' id='cq5dam.thumbnail.48.48.png' ></span>
    		 <span data-src='/content/dam/Dunkin_Donuts/Responsive/ddperks/DDlogo.png/jcr:content/renditions/cq5dam.thumbnail.48.48.png' id='cq5dam.thumbnail.48.48.png' data-media="(min-device-pixel-ratio: 2.0)"></span>
    	
             <span data-src='/content/dam/Dunkin_Donuts/Responsive/ddperks/DDlogo.png/jcr:content/renditions/cq5dam.thumbnail.140.100.png' id='cq5dam.thumbnail.140.100.png' data-media="(min-width: 480px)"></span>
             <span data-src='/content/dam/Dunkin_Donuts/Responsive/ddperks/DDlogo.png/jcr:content/renditions/cq5dam.thumbnail.140.100.png' id='cq5dam.thumbnail.140.100.png' data-media="(min-width: 480px) and (min-device-pixel-ratio: 2.0)" ></span>
             
    		  <span data-src='/content/dam/Dunkin_Donuts/Responsive/ddperks/DDlogo.png/jcr:content/renditions/cq5dam.thumbnail.319.319.png' id='cq5dam.thumbnail.319.319.png' data-media="(min-width: 768px)"></span>
    		  <span data-src='/content/dam/Dunkin_Donuts/Responsive/ddperks/DDlogo.png/jcr:content/renditions/cq5dam.thumbnail.319.319.png' id='cq5dam.thumbnail.319.319.png' data-media="(min-width: 768px) and (min-device-pixel-ratio: 2.0)"></span>
    	
              <span data-src='/content/dam/Dunkin_Donuts/Responsive/ddperks/DDlogo.png/jcr:content/renditions/cq5dam.web.1280.1280.png' id='cq5dam.web.1280.1280.png' data-media="(min-width: 1025px)"></span>
              <span data-src='/content/dam/Dunkin_Donuts/Responsive/ddperks/DDlogo.png/jcr:content/renditions/cq5dam.web.1280.1280.png' id='cq5dam.web.1280.1280.png' data-media="(min-width: 1025px) and (min-device-pixel-ratio: 2.0)"></span>
              <!--[if (lt IE 9) & (!IEMobile)]>
            <span data-src='/content/dam/Dunkin_Donuts/Responsive/ddperks/DDlogo.png/jcr:content/renditions/cq5dam.web.1280.1280.png'></span>
             <![endif]-->
        
    
    </span>
    
    
    
    
             
             </a>
            </div>
            
            





 
  

                








    
    
    
        <div class="loyalty-sign-in"> <a class="small-button" title="Sign In" href="/dunkindonuts/en/signin.html">Sign In</a></div>
            
    

</section>

           
        
                </section>

                
                    <div class="section"></div><div class="iparys_inherited">
   <div class="reward-logo-wrapper col-xs-12 col-md-12 col-lg-12">
   <span data-picture data-alt="">


   
    		 <span class='' data-src='/content/dam/Dunkin_Donuts/Responsive/ddperks/DDRewardLogo.png/jcr:content/renditions/cq5dam.thumbnail.48.48.png' id='cq5dam.thumbnail.48.48.png' ></span>
    		 <span class='' data-src='/content/dam/Dunkin_Donuts/Responsive/ddperks/DDRewardLogo.png/jcr:content/renditions/cq5dam.thumbnail.48.48.png' id='cq5dam.thumbnail.48.48.png' data-media="(min-device-pixel-ratio: 2.0)"></span>
    	
             <span class='' data-src='/content/dam/Dunkin_Donuts/Responsive/ddperks/DDRewardLogo.png/jcr:content/renditions/cq5dam.thumbnail.140.100.png' id='cq5dam.thumbnail.140.100.png' data-media="(min-width: 480px)"></span>
             <span class='' data-src='/content/dam/Dunkin_Donuts/Responsive/ddperks/DDRewardLogo.png/jcr:content/renditions/cq5dam.thumbnail.140.100.png' id='cq5dam.thumbnail.140.100.png' data-media="(min-width: 480px) and (min-device-pixel-ratio: 2.0)" ></span>
             
    		  <span class='' data-src='/content/dam/Dunkin_Donuts/Responsive/ddperks/DDRewardLogo.png/jcr:content/renditions/cq5dam.thumbnail.319.319.png' id='cq5dam.thumbnail.319.319.png' data-media="(min-width: 768px)"></span>
    		  <span class='' data-src='/content/dam/Dunkin_Donuts/Responsive/ddperks/DDRewardLogo.png/jcr:content/renditions/cq5dam.thumbnail.319.319.png' id='cq5dam.thumbnail.319.319.png' data-media="(min-width: 768px) and (min-device-pixel-ratio: 2.0)"></span>
    	
              <span class='' data-src='/content/dam/Dunkin_Donuts/Responsive/ddperks/DDRewardLogo.png/jcr:content/renditions/cq5dam.web.1280.1280.png' id='cq5dam.web.1280.1280.png' data-media="(min-width: 1025px)"></span>
              <span class='' data-src='/content/dam/Dunkin_Donuts/Responsive/ddperks/DDRewardLogo.png/jcr:content/renditions/cq5dam.web.1280.1280.png' id='cq5dam.web.1280.1280.png' data-media="(min-width: 1025px) and (min-device-pixel-ratio: 2.0)"></span>
              <!--[if (lt IE 9) & (!IEMobile)]>
            <span data-src='/content/dam/Dunkin_Donuts/Responsive/ddperks/DDRewardLogo.png/jcr:content/renditions/cq5dam.web.1280.1280.png'></span>
             <![endif]-->
        
    
    </span>
    </div>
    
    
    
    </div>

               
            </header>
        
       

 
 
 
<script>

if (!sessionStorage.haveCard) {
    
    window.location.href = "/content/dunkindonuts/en/responsive/ddperks/haveaddcard.html";  
    
}
else if(sessionStorage.haveCard=="no" && !sessionStorage.amount){
	window.location.href = "/content/dunkindonuts/en/responsive/ddperks/chooseamount.html";
}
else if(sessionStorage.haveCard=="yes" && !sessionStorage.DD_Loyalty_Res_Card_NUM && !sessionStorage.DD_Loyalty_Res_Card_Pin ){
	window.location.href = "/content/dunkindonuts/en/responsive/ddperks/entercardinfo.html";
}
else if(sessionStorage.haveCard=="yes" && !sessionStorage.amount ){
    window.location.href = "/content/dunkindonuts/en/responsive/ddperks/chooseamount.html";
}
</script>


        





 
  

                










 
  

                








        
<div style="display:none">
	<!--
Start of DoubleClick Floodlight Tag: Please do not remove
Activity name of this tag: 2014 DD Perks Redesign Desktop - New Acct: Enter Your Info, Including CC info
URL of the webpage where the tag is expected to be placed: http://www.dunkindonuts.com
This tag must be placed between the <body> and </body> tags, as close as possible to the opening tag.
Creation Date: 10/03/2014
-->
<script type="text/javascript">
var axel = Math.random() + "";
var a = axel * 10000000000000;
document.write('<iframe src="https://2146987.fls.doubleclick.net/activityi;src=2146987;type=dunki815;cat=2014D00T;ord=1;num=' + a + '?" width="1" height="1" frameborder="0" style="display:none"></iframe>');
</script>
<noscript>
<iframe src="https://2146987.fls.doubleclick.net/activityi;src=2146987;type=dunki815;cat=2014D00T;ord=1;num=1?" width="1" height="1" frameborder="0" style="display:none"></iframe>
</noscript>
<!-- End of DoubleClick Floodlight Tag: Please do not remove -->
</div>







 
  

                


 
  <div class="back-button-wrapper">
  
            <a class="back-button" href="/dunkindonuts/en/responsive/ddperks/chooseamount.html">Back</a>    
         </div>
         
  
  
       
       
       
  






 
  

                




<div>
<h1 style="font-family: tahoma, arial, helvetica, sans-serif; font-size: 12px;"><span class="page-headline">ENTER YOUR INFO <br>
</span></h1>
<p><span class="page-headline"></span>You're almost there!&nbsp; <br>
</p>
<p style="font-family: tahoma, arial, helvetica, sans-serif; font-size: 12px;"></p>

</div>






 
  

                




        
 

 <script type="text/javascript" src="https://wallet.google.com/online/v2/merchant/merchant.js"></script>
     <script type="text/javascript" src="https://assets.secure.checkout.visa.com/checkout-widget/resources/js/integration/v1/sdk.js">
    </script>
    <script type="text/javascript">
    window.onload=function(){};
    var amountVal = (sessionStorage.getItem("amount")).replace('$','');
    amountVal = parseFloat(amountVal).toFixed(2);
    var buttonUrl = 'https://secure.checkout.visa.com/wallet-services-web/xo/button.png';
    var merchantApiKey = 'Y03J0QS0ZTPE0IMOH7OW14IGRl4sAjaafN1_k2zQjC5pQkfIs';
    var merchantSharedSecret = 'AUzdxuzp0RS-x3W0qtAX#0#chZxDCe3DbA6f$768';
    var promoCode = 'PROMOTIONCODE';
    var promotionStartDateString = 'January 1, 2015';
    var promotionEndDateString = 'June 21, 2015';
    var discount = '10';
    discount = parseFloat(discount).toFixed(2);
    var thresholdAmount = '25';
    
    var visaCheckoutJson = {
            qs1 : {},
            requestType : "visaCheckout"
        };
    
    window.generateTokenJson = {
    		qs1 : {
    			apikey : merchantApiKey,
    			callId :"",
                currencyCode : "USD",
                discount : "",
                eventType : "",
                orderId : "",
                promoCode : "",
                reason : "",
    			sharedSecret : merchantSharedSecret,
    			subtotal : amountVal,
                total : amountVal
    		},
    		requestType : "generateToken"
    };
    
    var paymentRequest = { currencyCode : "USD", total : amountVal };
    
    if(promotionStartDateString && promotionEndDateString && parseFloat(amountVal) >= parseFloat(thresholdAmount)) {
	    var promotionStartDate = new Date(promotionStartDateString);
	    var promotionEndDate = new Date(promotionEndDateString);
	    promotionEndDate.setDate(promotionEndDate.getDate() + 1);
	    var todaysDate = new Date();
	    
	    if(todaysDate.getTime() >= promotionStartDate.getTime() && todaysDate.getTime() < promotionEndDate.getTime()) {
	    	window.generateTokenJson.qs1.discount = discount;
	    	window.generateTokenJson.qs1.promoCode = promoCode;
	    	paymentRequest = {currencyCode : "USD", total : amountVal, discount : discount, promoCode : promoCode };
	    }
    	
    }
    function onVisaCheckoutReady() {
        V.init({
            apikey : merchantApiKey,
            settings: {
                locale: "en_US",
                countryCode: "US",
                displayName: "DunkinDonuts",
                websiteUrl: "www.DunkinDonuts.com",
                shipping: {
                    acceptedRegions: ["US", "CA"],
                    collectShipping: "false"
                },
                dataLevel: "FULL",
                paymentRequest : paymentRequest
            }
        });
        V.on("payment.success", function(payment) {
            visaCheckoutJson.qs1 = payment;
            window.generateTokenJson.qs1.callId = payment.callid;
            handlePaymentSuccess(payment);
            $("#wallet-separator").show();
            $("#autorecharge-div").addClass("card-separator");
            $("#firstname-div").removeClass("card-separator");
            $("#firstname-div").addClass("firstname-separator");

        });
        V.on("payment.cancel", function(payment) {
        });
        V.on("payment.error", function(payment, error) {
        	$(".error-wrapper").html(handleVisaCheckoutError(error));
        });
    }

    function handleVisaCheckoutError(statusCode) {
    	var appCode = "";
        switch(statusCode){
		    case 401 : 
		    case 402 : 
		    case 403 : 
		    case 404 : 
		    case 405 : 
		    case 500 : 
		    	appCode = "APP391";
                break;
            default : 
            	appCode = "APP391";
            	break;
            }
        return (appCode!="")?CQ.I18n.getMessage(appCode):"";
    }

    function handlePaymentSuccess(payment) {
    	$("#visaPaymentKey").val(payment.encKey);
    	$("#visaPaymentData").val(payment.encPaymentData);
    	$.postJSON("/bin/dunkindonuts/service.frontController.html", JSON.stringify(visaCheckoutJson), handleDecryptedPaymentData);
    }
    
    //Hide credit card and billing address fields
    function hideCardFields() {
        $(".credit-card-details .no-wallet").css('display', 'none');
        
        $(".billingAddWrapper").css('display', 'none');
        $(".zipCodeWrapper").css('display', 'none');
        $(".form-row.clearFix.autoRechrage-wrapper").css('margin-top', '20px');        
        $("#expireMonth").addClass("ignore");
        $("#expireYear").addClass("ignore");
        $("#card_number").addClass("ignore");
        $("#security_code").addClass("ignore");
        $("#billing_address").addClass("ignore");
        $("#profile_zip").addClass("ignore");
        $("#city").addClass("ignore");
        $("#state").addClass("ignore");
    }

    function handleDecryptedPaymentData(data) {
       	$(".visa-checkout-edit-details").removeClass("visa-hide-element");
        $(".visa-edit-details").removeClass("visa-hide-element");
        hideCardFields();
        if($('#autoRechrage').is(":checked")){
        	$("#wallet-separator").show();
            $("#autorecharge-div").addClass("card-separator");
            $("#firstname-div").removeClass("card-separator");
            $("#firstname-div").addClass("firstname-separator");
        	$("#security_code_visa").removeClass("ignore");
        	$("#visa-edit-cancel-link").addClass("visa-edit-cancel-link");
        	$(".securityCode-wrapper-visa").show();
    		
        } else {
        	$(".securityCode-wrapper-visa").css('display', 'none');
        	$("#visa-edit-cancel-link").removeClass("visa-edit-cancel-link");
    		$("#security_code_visa").addClass("ignore");
        }        
        $("#google-wallet-payment-method, #visa-checkout-button-holder , #wallet-button-holder").hide();
        $("#visa-checkout-email-response").text(data.paymentInstrument.paymentType.cardBrand + " XXXX-" + data.paymentInstrument.lastFourDigits);
        $("#visa-checkout-card-response").text("Expiration " + data.paymentInstrument.expirationDate.month + "/" + data.paymentInstrument.expirationDate.year);
        setDataOnVisaCheckoutSuccess(data);
    }

    function setDataOnVisaCheckoutSuccess(data){
    	
        $("#walletType").val("VISA");
        $("#googleWalletFirstName").val(data.paymentInstrument.billingAddress.firstName);
        $("#googleWalletLastName").val(data.paymentInstrument.billingAddress.lastName);
        $("#billing_address").val(data.paymentInstrument.billingAddress.line1);
        if(data.paymentInstrument.paymentType.cardBrand == "MASTERCARD") {
        	$("#cardType").val("MC");
		} else if(data.paymentInstrument.paymentType.cardBrand == "DISCOVER") {
			$("#cardType").val("DISC");
		} else {
        	$("#cardType").val(data.paymentInstrument.paymentType.cardBrand);
		}
        $("#city").val(data.paymentInstrument.billingAddress.city);
        $("#state").val(data.paymentInstrument.billingAddress.stateProvinceCode);
        var baseImageFileName = data.paymentInstrument.cardArts.cardArt[0].baseImageFileName;
        $("#visa-icon").attr('src',baseImageFileName);   
        if( !sessionStorage.DD_Loyalty_Existing_User) {
        	$("#profile_first_name").val(data.paymentInstrument.billingAddress.firstName);
        	$("#profile_last_name").val(data.paymentInstrument.billingAddress.lastName);
        	$("#profile_email").val(data.userData.userEmail);
        	$("#profile_zip").val(data.paymentInstrument.billingAddress.postalCode);
        }
    }

</script>  
 <script>      
        var monthDayMapping = {
                        "1": "31",
                        "2": "29",
                        "3": "31",
                        "4": "30",
                        "5": "31",
                        "6": "30",
                        "7": "31",
                        "8": "31",
                        "9": "30",
                        "10": "31",
                        "11": "30",
                        "12": "31"
            };
        
    $(document).ready(function() {       
   	$("#visa-button").attr('src',buttonUrl);
    window.maskedWalletResponseSuccess = false;
    window.isUnsupportedBrowser = false;
    var updatedChangeWalletRequest;
    var description;
    var amountVal = (sessionStorage.getItem("amount")).replace('$','');
    var OauthClientId = '598426227551-hlll19b6mup4uqom0cened4e3prnpsgg.apps.googleusercontent.com';
    $("#visa-button").attr('alt','Click').show();
    if (!sessionStorage.DD_Loyalty_Res_Card_NUM || !sessionStorage.DD_Loyalty_Res_Card_Pin) {
        description = "Dunkin Donuts Purchase Card";
    } else {
        description = "Dunkin Donuts Manual Recharge";
    }
    
        var MaskedWalletJson = {
            qs1 : {},
            cardType : "multiuse",
            requestType : "maskedWallet"
        };

       //Information for Change Wallet request
        var ChangeWalletJson= {
            qs1: {},
            cardType : "multiuse",
            requestType : "changeWallet"
        };

        //Json representation for items purchased
        window.FullWalletJson = {
            "qs1": {},
            cardType : "multiuse",
            requestType : "fullWallet"
        };

        //Json representation for Transaction Status Json request.
        window.TransactionStatusNotificationJson = {
            qs1:{},
            cardType : "multiuse",
            requestType : "transactionStatusNotification",
            success : ""
        };

    google.wallet.online.authorize({
        "clientId" : OauthClientId,
        "callback" : function(tokenObj) {
            console.log(tokenObj);
        }
    })

    //********Masked Wallet Request related functions********
    //Handle the Jwt returned from the server and create the Wallet button

    function handleMaskedWalletJwt(data) {
        google.wallet.online.createWalletButton({
            jwt : data.data,
            success : maskedWalletSuccess,
            failure : maskedWalletFailure,
            ready : buttonReady
        });
    }

    //Callback for Masked Wallet success

    function maskedWalletSuccess(response) {
        $(".error-wrapper").html("");
        window.maskedWalletResponseSuccess = true;
        $(".securityCode-wrapper-visa").css('display', 'none');
        $("#visa-edit-cancel-link").removeClass("visa-edit-cancel-link");
        hideCardFields();
        window.FullWalletJson.qs1.jwt = response.jwt;
        ChangeWalletJson.qs1.jwt = response.jwt;
        $.postJSON(
                "/bin/dunkindonuts/service.frontController.html",
                JSON.stringify(ChangeWalletJson),
                setChangeWalletJwt);
        $("#email-response").text(response.response.response.email);
        $("#card-response").text(response.response.response.pay.description);
        
        $("#googleWalletEmailId").val(response.response.response.email);
        $("#googleWalletDescription").val(response.response.response.pay.description);
        
        $("#wallet-button-holder").hide();
        $(".wallet-icon, .edit-details").removeClass("hide-element");
        $("#data-response, .edit-details").show();
        $("#wallet-separator").show();
        $("#autorecharge-div").addClass("card-separator");
        $("#firstname-div").removeClass("card-separator");
        $("#firstname-div").addClass("firstname-separator");
        $('#visa-checkout-button-holder').hide();
    }
    


    //Callback for Masked Wallet failure

    function maskedWalletFailure(response) {
        $(".error-wrapper").html(window.handleGoogleFailure(response.error));
    }

    //Callback for Wallet button generation

    function buttonReady(params) {
        if (params.error === "UNSUPPORTED_USER_AGENT" || params.error === "UNSUPPORTED_BROWSER"
                    || params.error === "SERVICE_UNAVAILABLE" || params.error === "INVALID_PARAMETERS" || params.error === "INTERNAL_ERROR") {
            window.isUnsupportedBrowser = true;
            $("#google-wallet-payment-method").hide();
            $(".payment-desc").text('You can choose to register with Visa Checkout or enter in your credit card information.');
        }
        if (params.status == "SUCCESS") {
            if (document.readyState === "interactive"
                    || document.readyState === "complete") {
                addButton(params.walletButtonElement);
            } else {
                document.addEventListener("DOMContentLoaded",
                        addButton(params.walletButtonElement));
            }
        }
    }

    function addButton(button) {
        var holder = $("#wallet-button-holder")[0];
        if (holder.hasChildNodes())
            holder.removeChild(holder.firstChild);
        holder.appendChild(button);
    }
    
    //********Change Wallet Request related functions********
    //Handle the Jwt returned from the server and request the Full Wallet
    
    
        function handleChangeWalletJwt() {
        google.wallet.online.changeMaskedWallet({
            jwt : updatedChangeWalletRequest.data,
            success : changeWalletSuccess,
            failure : changeWalletFailure,
            ready : buttonReady
        });
    }

        function setChangeWalletJwt(data) {
            updatedChangeWalletRequest = data;
        }

    
    //Callback for Change Wallet success

    function changeWalletSuccess(response) {
        $(".error-wrapper").html("");
        window.maskedWalletResponseSuccess = true;
        $(".securityCode-wrapper-visa").css('display', 'none');
        $("#visa-edit-cancel-link").removeClass("visa-edit-cancel-link");
        hideCardFields();
        //Add Jwt to Full Wallet Json to generate the Full Wallet request Jwt
        window.FullWalletJson.qs1.jwt = response.jwt;
        ChangeWalletJson.qs1.jwt = response.jwt;
        $("#email-response").text(response.response.response.email);
        $("#card-response").text(response.response.response.pay.description);
        
        $("#googleWalletEmailId").val(response.response.response.email);
        $("#googleWalletDescription").val(response.response.response.pay.description);

        $('#visa-checkout-button-holder').hide();
    }

    function changeWalletFailure(response) {
        $(".error-wrapper").html(window.handleGoogleFailure(response.error));
    }

    var ani = {
        easing : 'swing',
        duration : 250,
        callback : function() {
        }
    };

    $.postJSON = function(url, data, callback) {
        return jQuery.ajax({
            type : 'POST',
            url : url,
            contentType : 'application/json',
            data : data,
            dataType : 'json',
            success : callback,
            error : function(jqXHR, exception) {
                console.log("error in serivce call :"+url);
            }
        });
    };

    function initApp() {
        //using JQuery for Ajax posts
        $("#data-response, .edit-details").hide();
        $("#wallet-separator").hide();
        $("#autorecharge-div").removeClass("card-separator");
        $("#firstname-div").addClass("card-separator");
        $("#firstname-div").removeClass("firstname-separator");
        $("#security_code_visa").addClass("ignore");
        
         $.postJSON(
               "/bin/dunkindonuts/service.frontController.html",
               JSON.stringify(MaskedWalletJson),
               handleMaskedWalletJwt);
        
        $("#cancel-wallet, #cancel-visa").click(function(){
        	window.clearWalletDetails();
        	window.clearProfileDetails();
             location.reload();
        });

        $("#change-wallet").click(function() {
            handleChangeWalletJwt();
        });
     }
    //Wait for dom before initializing buttons
    if (document.readyState === "interactive"
            || document.readyState === "complete") {
        initApp();
    }
    // If it"s not ready add an event handler to intialize it when ready
    else {
        document.addEventListener("DOMContentLoaded", function() {
            initApp();
        });
    }


     
         var locale = "en";
        if(sessionStorage.DD_Loyalty_Existing_User){
            if(sessionStorage.DD_Loyalty_Existing_User== "true"){
                    $(".newUser").remove();
                }
            }
            
            
            if("null" != null && "null" != "null"){
                $(".error-wrapper").html(CQ.I18n.getMessage("null"));
                $(".back-button").hide();
                $("#registration_submit").addClass("inactive-button");
                $("#registration_submit").attr("disabled", "disabled");
            }
            
         if (sessionStorage.DD_Loyalty_Res_CCard_NUM) {
              var credit_card_number=sessionStorage.DD_Loyalty_Res_CCard_NUM;
              var $postData = {'requestType'  :   'cardRegistration',
                      'service'      :   'decryptCard',
                        'cardNumber' :    credit_card_number
                          };
              $.ajax({
                  url: "/bin/dunkindonuts/service/perks.perksService.html",
                  type: "POST",
                  data: $postData,
                  dataType: "json",
              
              success: function (data) {
                      if(data[0].success=="true"){
                          var card = data[0].cardNumber;
                          $("#card_number").val(card);
                          $("#card_number").addClass("validated-field");
                          $("#card_number").css({"color":"#472200"});
                          $("#card_number").blur();  
                          }
                  }
                              });
              }
         if(sessionStorage.DD_Loyalty_Res_Card_balance){
             var card_balance = sessionStorage.getItem("DD_Loyalty_Res_Card_balance");
             if(card_balance=='P'){
                 $("#ddCardType").val(card_balance);
                 } 
             }
        if (sessionStorage.firstname) {
            var firstname=sessionStorage.firstname;
            $("#profile_first_name").val(firstname);
            $("#profile_first_name").addClass("validated-field");
            $("#profile_first_name").css({"color":"#472200"});
            }
        else{
            if(false){
                $("#profile_first_name").val("");
                $("#profile_first_name").addClass("validated-field");
                $("#profile_first_name").css({"color":"#472200"});
                }
            }
        
        if (sessionStorage.lastname) {
            var lastname=sessionStorage.lastname;
            $("#profile_last_name").val(lastname);
            $("#profile_last_name").addClass("validated-field");
            $("#profile_last_name").css({"color":"#472200"});
            }
        else{
            if(false){
                $("#profile_last_name").val("");
                $("#profile_last_name").addClass("validated-field");
                $("#profile_last_name").css({"color":"#472200"});
                }
            }
        if (sessionStorage.billing_address) {
            var billing_address=sessionStorage.billing_address;
            $("#billing_address").val(billing_address);
            $("#billing_address").addClass("validated-field");
            $("#billing_address").css({"color":"#472200"});
            }
        if (sessionStorage.billing_address2) {
            var billing_address2=sessionStorage.billing_address2;
            $("#billing_address2").val(billing_address2);
            $("#billing_address2").addClass("validated-field");
            $("#billing_address2").css({"color":"#472200"});
            }
        if (sessionStorage.email) {
            var email=sessionStorage.email;
            $("#profile_email").val(email);
            $("#profile_email").addClass("validated-field");
            $("#profile_email").css({"color":"#472200"});
            }
        else{
            if(false){
                $("#profile_email").val("");
                $("#profile_email").addClass("validated-field");
                $("#profile_email").css({"color":"#472200"});
                }
            }
        if (sessionStorage.confirmemail) {
            var confirmemail=sessionStorage.confirmemail;
            $("#profile_email_confirm").val(confirmemail);
            $("#profile_email_confirm").addClass("validated-field");
            $("#profile_email_confirm").css({"color":"#472200"});
            }
        if (sessionStorage.zip) {
            var zip=sessionStorage.zip;
            $("#profile_zip").val(zip);
            $("#profile_zip").addClass("validated-field");
            $("#profile_zip").css({"color":"#472200"});
            }
        else{
            if(false){
                $("#profile_zip").val("");
                $("#profile_zip").addClass("validated-field");
                $("#profile_zip").css({"color":"#472200"});
                $("#enterInfo #profile_zip").blur();
                }
            }
        if (sessionStorage.registrationcode) {
            var registrationcode=sessionStorage.registrationcode;
            $("#registration_code").val(registrationcode);
            $("#registration_code").addClass("validated-field");
            $("#registration_code").css({"color":"#472200"});
            }
        if (sessionStorage.dob_month != "Month") {
            var dob_month=sessionStorage.dob_month;
            $("#profile_dob_month").val(dob_month);            
            $("#profile_dob_month.selectpicker").selectpicker('refresh');  
        }
        if (sessionStorage.DD_Loyalty_Res_Card_NUM) {
            var cardnumber=sessionStorage.DD_Loyalty_Res_Card_NUM;
            $("#cardNumber").val(cardnumber);
            }
        if (sessionStorage.amount) {
            var amount=sessionStorage.amount;
            amount=amount.replace('$','');
            $("#monthlyAmount").append(amount);
        $("#weeklyAmount").append(amount);
            $("#amount").val(amount);
        }
        if (sessionStorage.DD_Loyalty_Res_Card_Pin) {
            var pinnumber=sessionStorage.DD_Loyalty_Res_Card_Pin;
            $("#pinnumber").val(pinnumber);
        }
        if (!sessionStorage.DD_Loyalty_Res_Card_NUM || !sessionStorage.DD_Loyalty_Res_Card_Pin) {
            $("#isPurchaseCard").val("true");
        }
        
        if (sessionStorage.dob_day != "Day") {
            var dob_day=sessionStorage.dob_day;
             $("#profile_dob_day").val(dob_day);             
            $("#profile_dob_day.selectpicker").selectpicker('refresh');  
          
        }
        if (sessionStorage.dob_year != "Year") {
            var dob_year=sessionStorage.dob_year; 
            $("#profile_dob_year").val(dob_year);
            $("#profile_dob_year.selectpicker").selectpicker('refresh');             
        
        }
        if (sessionStorage.registrationcode) {
          $(".promocode-wrapper").addClass("top-margin");
          $('#registration_code').show("slow");
          $("label[for='registration_code']").show("slow"); 
          $("#promoCodeCheckBox").next().children().find(".icon-check").show();
          $("#promoCodeCheckBox").next().children().find(".icon-check-empty").hide();
          $('#registration_code').val(sessionStorage.registrationcode);
    }
        
        var userBirthDay = "-1",
            userBirthMonth = "-1";
            if(userBirthDay.length==1){
                userBirthDay = "0"+userBirthDay;
                }
        if(sessionStorage.DD_Loyalty_Existing_User){            
            if(sessionStorage.DD_Loyalty_Existing_User== "true"){               
                $("#profile_dob_month.selectpicker").prop('disabled',true);
                $("#profile_dob_month.selectpicker").val(userBirthMonth);                
                $("#profile_dob_month.selectpicker").selectpicker('refresh', true);
                $("#profile_dob_day.selectpicker").prop('disabled',true);
                $("#profile_dob_day.selectpicker").val(userBirthDay);                
                $("#profile_dob_day.selectpicker").selectpicker('refresh', true);
            }
        }    
            $("#profile_dob_month").on("change",function(){              
            var monthNumber = $("#profile_dob_month").val();
            var numberOfDays = (monthDayMapping[monthNumber]);
            $("#profile_dob_day.selectpicker").empty();
            if(locale == "es"){
                $("#profile_dob_day.selectpicker").append("<option value=''>" +CQ.I18n.getMessage("APP144")+ "</option>");
            }else{           
                $("#profile_dob_day.selectpicker").append("<option value=''>Day</option>");
            }       
            for(var i=1; i <= numberOfDays; i++){
            if(i<10){
             i= '0'+i;
             $("#profile_dob_day.selectpicker").append("<option value='"+i+"'>"+i+"</option>");
            } 
            else{             
            $("#profile_dob_day.selectpicker").append("<option value='"+i+"'>"+i+"</option>");
            }
            }
           $("#profile_dob_day.selectpicker").selectpicker('refresh');           
           });
                 
             
});

</script>       
        
        


    <section class="row info-form-wrapper col-xs-12">
        <span class="instruction missing-fields">*Indicates required fields</span>

         <img id="update-visa-checkout-payment"/>
        <div class="error-wrapper serverside-error"></div>
        <div class="error-wrapper-headline serverside-error"></div>
        <div class="error-wrapper-body serverside-error"></div>   
        
        <h2 class="input-label payment-method-title">CHOOSE PAYMENT METHOD</h2>
        <p class="grey-text payment-desc">You can choose to register with Visa Checkout, Google Wallet or enter in your credit card information.</p>
        <p class="grey-text">Finish creating your account by completing the required fields and selecting submit.</p>
        
        <form id="enterInfo" method="post">
        <div id="visa-checkout-payment-method" class="clearfix">
            <div class="button-wrapper clearfix">
            <div class="disabled-visa-checkout-button"></div>
                <div id="visa-checkout-button-holder"><img id="visa-button" class="v-button" role="button" width="154px" height="34px"/></div>
				<div id="wallet-button-holder"></div>
                <ul id="visa-data-response" class="visa-checkout-edit-details visa-hide-element">
                     <li class="visa-checkout-icon"><img id="visa-icon" alt="Visa icon" height="50px" width="77px"/></li>
                    <li id="visa-checkout-email-response"></li>
                    <li id="visa-checkout-card-response"></li>
                </ul>
            </div>
            
            <div class="input-wrapper securityCode-wrapper-visa">
                         <label class="input-label">*Security Code</label>
                         <input type="tel" placeholder="" id="security_code_visa" class="form-control scurity-input security_code_visa" name="security_code_visa"/>
            </div>
            
             <ul class="visa-edit-details visa-hide-element" id="visa-edit-cancel-link">
                <li><a href="#" id="change-visa" class="v-button">Edit</a></li>
                <li><a href="#" id="cancel-visa">Cancel</a></li>
            </ul>
        </div>
       
        <div id="google-wallet-payment-method">
            <div class="button-wrapper">
                <div class="disabled-google-button"></div>

                <ul id="data-response">
                    <li class="wallet-icon hide-element"></li>
                    <li id="email-response"></li>
                    <li id="card-response"></li>
                </ul>
            </div>  
            <ul class="edit-details hide-element">
                <li><a href="#" id="change-wallet">Edit</a></li>
                <li><a href="#" id="cancel-wallet">Cancel</a></li>
            </ul>
        </div>
        
        
                
                    <input type="hidden" name="requestType" id="requestType" value="addProfileEpsilon">
                    <input type="hidden" name="service" id="service" value="registerNewUser">
                    <input type="hidden" name="congratulationPage" id="congratulationPage" value="/content/dunkindonuts/en/responsive/ddperks/completeregistration.html">
                    <input type="hidden" name="visaVerificationPage" id="visaVerificationPage" value="/content/dunkindonuts/en/ddperks/manage_my_cards/visaverification.html">
                    <input type="hidden" name="cardNumber" id="cardNumber" value="">
                    <input type="hidden" name="pinnumber" id="pinnumber" value="">
                    <input type="hidden" name="ddCardType" id="ddCardType" value="">
                    <input type="hidden" name="amount" id="amount" value="">
                    <input type="hidden" name="setAutoRecharge" id="setAutoRecharge" value="">
                    <input type="hidden" name="isPurchaseCard" id="isPurchaseCard" value="">
                    <input type="hidden" name="currentpage" id="currentpage" value="/content/dunkindonuts/en/responsive/ddperks/enteryourinfo.html">
                    
                    <input type="hidden" name="walletType" id="walletType" value="">
                    <input type="hidden" name="googleWalletFirstName" id="googleWalletFirstName" value="">
                    <input type="hidden" name="googleWalletLastName" id="googleWalletLastName" value="">                    
                    <input type="hidden" name="visaPaymentData" id="visaPaymentData" value="">                    
                    <input type="hidden" name="visaPaymentKey" id="visaPaymentKey" value="">              
                    <input type="hidden" name="googleWalletEmailId" id="googleWalletEmailId" value="">
                    <input type="hidden" name="googleWalletDescription" id="googleWalletDescription" value="">      
                    <fieldset>
                    <div class="credit-card-details">
                        <span class="other-option no-wallet">OR</span>
                        <h2 class="input-label card-details-title no-wallet">Enter credit card information</h2>                
                        <div class="form-row clearFix no-wallet">
                            <div class="input-wrapper">
                                <label class="input-label">*Credit Card Number</label>
                                <input type="tel" id="card_number" class="form-control" name="card_number"/>
                        <input type="hidden" id="cardType" name="cardType" value="" />
                                </div>
                                <div class="input-wrapper">
                                    <ul class="creditCard-wrapper">
                        <li class="master">master</li>
                        <li class="visa">visa</li>
                        <li class="american-express">american express</li>
                        <li class="discover">discover</li>
                        <li class="jcb">jcb</li>
                        <li class="dinner">dinner</li>
                        </ul>
                                </div>
                            </div>
                            
                        <div class="form-row clearFix">
                            <div class="input-wrapper custom-dropdown card-expiry no-wallet">
                                <label class="input-label">*Expiration Date</label>
                                <select name="expireMonth" id="expireMonth" class="selectpicker">
                                    <option value="">Month</option>
                                    <option value="1">Jan</option>
                                    <option value="2">Feb</option>
                                    <option value="3">Mar</option>
                                    <option value="4">Apr</option>
                                    <option value="5">May</option>
                                    <option value="6">Jun</option>
                                    <option value="7">Jul</option>
                                    <option value="8">Aug</option>
                                    <option value="9">Sep</option>
                                    <option value="10">Oct</option>
                                    <option value="11">Nov</option>
                                    <option value="12">Dec</option>
                                </select>                               
                                <select  name="expireYear" id="expireYear" class="selectpicker">
                                    <option value="-1">Year</option>
                                    
                                    <option value="2015">2015</option>
                                    
                                    <option value="2016">2016</option>
                                    
                                    <option value="2017">2017</option>
                                    
                                    <option value="2018">2018</option>
                                    
                                    <option value="2019">2019</option>
                                    
                                    <option value="2020">2020</option>
                                    
                                    <option value="2021">2021</option>
                                    
                                    <option value="2022">2022</option>
                                    
                                    <option value="2023">2023</option>
                                    
                                    <option value="2024">2024</option>
                                    
                                    <option value="2025">2025</option>
                                    
                                    <option value="2026">2026</option>
                                    
                                    <option value="2027">2027</option>
                                    
                                    <option value="2028">2028</option>
                                    
                                    <option value="2029">2029</option>
                                    
                                    <option value="2030">2030</option>
                                    
                                    <option value="2031">2031</option>
                                    
                                    <option value="2032">2032</option>
                                    
                                    <option value="2033">2033</option>
                                    
                                    <option value="2034">2034</option>
                                    
                                    <option value="2035">2035</option>
                                    
                                </select>                               
                            </div>
                            <div class="input-wrapper securityCode-wrapper no-wallet">
                                <label class="input-label">*Security Code</label>
                                <input type="tel" placeholder="" id="security_code" class="form-control scurity-input" name="security_code"/>
                                
                                <a href="#" class="popover-modal amexCard-modal" data-toggle="modal" data-target="#securitycode-amex-modal"></a>   
                                <a href="#" class="popover-modal card-modal" data-toggle="modal" data-target="#securitycode-modal"></a>                          
                                
                                <div class="modal fade" id="securitycode-amex-modal" tabindex="-1" role="dialog">
                                    <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header">                                          
                                            <h3 class="modal-title"><span class="title">Where is my security code?</span> <a href='#' class='close-popover' data-dismiss="modal"></a></h3>
                                            </div>
                                            <div class="modal-body">
                                                Your security code is a 4-digit code on the front of your American Express card as highlighted below:
                                                <div class="security-amex-card"></div>
                                            </div>
                                    </div>
                                  </div>
                                </div>
                                
                                <div class="show-popupover amexCard-popover">
                                    <span type="button"></span>                                 
                                    <div class="popupover-title hide">
                                        <span class="title">Where is my security code?</span> <a href='#' class='close-popover'></a>
                                    </div>
                                    <div class="popupover-content hide">
                                        Your security code is a 4-digit code on the front of your American Express card as highlighted below:
                                        <div class="security-amex-card"></div>
                                    </div>
                                </div>
                                
                                <div class="modal fade" id="securitycode-modal" tabindex="-1" role="dialog">
                                    <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header">                                          
                                            <h3 class="modal-title"><span class="title">Where is my security code?</span> <a href='#' class='close-popover' data-dismiss="modal"></a></h3>
                                            </div>
                                            <div class="modal-body">
                                                Your security code is a 3-digit code on the back of your credit card as highlighted below:
                                                <div class="security-card"></div>
                                            </div>
                                    </div>
                                  </div>
                                </div>
                                
                                <div class="show-popupover card-popover">
                                    <span type="button"></span>                                 
                                    <div class="popupover-title hide">
                                        <span class="title">Where is my security code?</span> <a href='#' class='close-popover'></a>
                                    </div>
                                    <div class="popupover-content hide">
                                        Your security code is a 3-digit code on the back of your credit card as highlighted below:
                                        <div class="security-card"></div>
                                    </div>
                                </div>
                            </div>
                        </div>  
                            
                    </div>
                    
                        <div class="bottom-separator clearFix" id="wallet-separator"> </div>
                        
                        <div class="form-row clearFix autoRechrage-wrapper" id="autorecharge-div">
                            <div class="custom-checkbox">
                                <input type="checkbox" value="None" id="autoRechrage" name="autoRechrage"/>
                                <label for="autoRechrage" class="label-option">ENABLE AUTO-RELOAD</label>                                                     
                                <a href="#" class="popover-modal" data-toggle="modal" data-target="#recharge-modal"></a>                            
                                <div class="modal fade" id="recharge-modal" tabindex="-1" role="dialog">
                                    <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header">                                          
                                            <h3 class="modal-title" id="myModalLabel"><span class="title">What is auto-reload?</span> <a href='#' class='close-popover' data-dismiss="modal"></a></h3>
                                            </div>    
                                            <div class="modal-body">
                                                Choose whether to reload your card when the balance drops below a specific amount, or to reload it per month or week. We'll take care of the rest!
                                            </div>
                                    </div>
                                  </div>
                                </div>
                                
                                <div class="show-popupover">
                                    <span type="button"></span>                                 
                                    <div class="popupover-title hide">
                                        <span class="title">What is auto-reload?</span> <a href='#' class='close-popover'></a>
                                    </div>
                                    <div class="popupover-content hide">
                                        Choose whether to reload your card when the balance drops below a specific amount, or to reload it per month or week. We'll take care of the rest!
                                    </div>
                                </div>
                            </div>
                            
                            <div class="charge-card-wrapper custom-dropdown">
                                <label class="input-label" for="chargeCard">Charge my card:</label>
                                <select name="chargeCard" id="chargeCard" class="selectpicker">
                                    <option value="1" selected>By threshold</option>
                                    <option value="2">By month</option>
                                    <option value="3">By week</option>
                                </select>
                            </div>

                            <div class="by-threshold custom-dropdown">
                    <div class="below-balance">
                                <p class="input-label">When my balance is below</p>
                                <select name="balance1" id="balance1" class="selectpicker">
                                    <option value="10">$10</option>
                                    <option value="15">$15</option>
                                    <option value="20">$20</option>
                                    <option value="25">$25</option>
                                    <option value="30">$30</option>
                                    <option value="35">$35</option>
                                    <option value="40">$40</option>
                                    <option value="45">$45</option>
                                    <option value="50">$50</option>
                                </select>       
                                <script>
                                function setSelectedIndex(s, v) {
                                    for ( var i = 0; i < s.options.length; i++ ) {
                                        if ( s.options[i].text == v ) {
                                            s.options[i].selected = true;
                                            return;
                                            }
                                        else{
                                            s.options[0].selected = true;
                                            }
                                        }
                                    }
                                setSelectedIndex(document.getElementById('balance1'),"$10");
                                </script>        
                </div>
                <div class="add-balance">
                                <p class="input-label">automatically add</p>
                                <select name="balance2" id="balance2" class="selectpicker">
                                    <option value="10">$10</option>
                                    <option value="15">$15</option>
                                    <option value="20">$20</option>
                                    <option value="25">$25</option>
                                    <option value="30">$30</option>
                                    <option value="35">$35</option>
                                    <option value="40">$40</option>
                                    <option value="45">$45</option>
                                    <option value="50">$50</option>
                                    <option value="55">$55</option>
                                    <option value="60">$60</option>
                                    <option value="65">$65</option>
                                    <option value="70">$70</option>
                                    <option value="75">$75</option>
                                    <option value="80">$80</option>
                                    <option value="85">$85</option>
                                    <option value="90">$90</option>
                                    <option value="95">$95</option>
                                    <option value="100">$100</option>
                                </select>
                                <script>
                                function setSelectedIndex(s, v) {
                                    for ( var i = 0; i < s.options.length; i++ ) {
                                        if ( s.options[i].text == v ) {
                                            s.options[i].selected = true;
                                            return;
                                            }
                                        else{
                                            s.options[0].selected = true;
                                            }
                                        }
                                    }
                                setSelectedIndex(document.getElementById('balance2'),"$25");
                                </script>
                            </div>
            </div>

                            <div class="by-month custom-dropdown">
                             <div class="below-balance">
                                <p class="input-label">Every month on the</p>
                                <select name="dayOfMonth" id="dayOfMonth" class="selectpicker">
                                    <option value="1" selected>1st</option>
                                    <option value="2">2nd</option>
                                    <option value="3">3rd</option>
                                    
                                    <option value="4">4th</option>
                                    
                                    <option value="5">5th</option>
                                    
                                    <option value="6">6th</option>
                                    
                                    <option value="7">7th</option>
                                    
                                    <option value="8">8th</option>
                                    
                                    <option value="9">9th</option>
                                    
                                    <option value="10">10th</option>
                                    
                                    <option value="11">11th</option>
                                    
                                    <option value="12">12th</option>
                                    
                                    <option value="13">13th</option>
                                    
                                    <option value="14">14th</option>
                                    
                                    <option value="15">15th</option>
                                    
                                    <option value="16">16th</option>
                                    
                                    <option value="17">17th</option>
                                    
                                    <option value="18">18th</option>
                                    
                                    <option value="19">19th</option>
                                    
                                    <option value="20">20th</option>
                                    
                                    <option value="21">21st</option>
                                    <option value="22">22nd</option>
                                    <option value="23">23rd</option>
                                    
                                    <option value="24">24th</option>
                                    
                                    <option value="25">25th</option>
                                    
                                    <option value="26">26th</option>
                                    
                                    <option value="27">27th</option>
                                    
                                    <option value="28">28th</option>
                                    
                                </select>  
                            </div>  
                            <div class="add-balance">
                                <p class="input-label">day of the month</p> 
                                <select name="monthlyAmount" id="monthlyAmount" class="selectpicker">
                                    <option value="10">$10</option>
                                    <option value="15">$15</option>
                                    <option value="20">$20</option>
                                    <option value="25">$25</option>
                                    <option value="30">$30</option>
                                    <option value="35">$35</option>
                                    <option value="40">$40</option>
                                    <option value="45">$45</option>
                                    <option value="50">$50</option>
                                    <option value="55">$55</option>
                                    <option value="60">$60</option>
                                    <option value="65">$65</option>
                                    <option value="70">$70</option>
                                    <option value="75">$75</option>
                                    <option value="80">$80</option>
                                    <option value="85">$85</option>
                                    <option value="90">$90</option>
                                    <option value="95">$95</option>
                                    <option value="100">$100</option>
                                </select> <p class="input-label">will be added to your card</p>
                                </div>
                            </div>
                            
                            <div class="by-week custom-dropdown">
                             <div class="below-balance">
                                <p class="input-label">Every week on</p>
                                <select name="dayOfWeek" id="dayOfWeek" class="selectpicker">
                                    <option value="0" selected>Sunday</option>
                                    <option value="1">Monday</option>
                                    <option value="2">Tuesday</option>
                                    <option value="3">Wednesday</option>
                                    <option value="4">Thursday</option>
                                    <option value="5">Friday</option>
                                    <option value="6">Saturday</option>
                                </select>   
                            </div>  
                            <div class="add-balance">                           
                                <select name="weeklyAmount" id="weeklyAmount" class="selectpicker">
                                    <option value="10">$10</option>
                                    <option value="15">$15</option>
                                    <option value="20">$20</option>
                                    <option value="25">$25</option>
                                    <option value="30">$30</option>
                                    <option value="35">$35</option>
                                    <option value="40">$40</option>
                                    <option value="45">$45</option>
                                    <option value="50">$50</option>
                                    <option value="55">$55</option>
                                    <option value="60">$60</option>
                                    <option value="65">$65</option>
                                    <option value="70">$70</option>
                                    <option value="75">$75</option>
                                    <option value="80">$80</option>
                                    <option value="85">$85</option>
                                    <option value="90">$90</option>
                                    <option value="95">$95</option>
                                    <option value="100">$100</option>
                                </select> <p class="input-label">will be added to your card</p>
                            </div>
                            </div>
                            <div class="insturctional-text">
                                    NOTE: You've selected an auto-reload value that is higher than the initial amount you selected to put on your card. This means your card will automatically be reloaded with your selected value once you complete registration.
                                </div>
                        </div>
                        <div class="form-row clearFix">
                            <div class="custom-checkbox">
                                <input type="checkbox" value="None" id="promoCodeCheckBox" name="promoCodeCheckBox"/>
                                <label for="promoCodeCheckBox" class="label-option">ADD A PROMO CODE</label>
                                
                                <a href="#" class="popover-modal" data-toggle="modal" data-target="#promocode-modal"></a>                           
                                <div class="modal fade" id="promocode-modal" tabindex="-1" role="dialog">
                                    <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header">                                          
                                            <h3 class="modal-title"><span class="title">What is a promo code?</span> <a href='#' class='close-popover' data-dismiss="modal"></a></h3>
                                            </div>
                                            <div class="modal-body">
                                                If you received a promo code from a Dunkin' promotional event, enter it here.
                                            </div>
                                    </div>
                                  </div>
                                </div>
                                
                                <div class="show-popupover">
                                    <span type="button"></span>                                 
                                    <div class="popupover-title hide">
                                        <span class="title">What is a promo code?</span> <a href='#' class='close-popover'></a>
                                    </div>
                                    <div class="popupover-content hide">
                                        If you received a promo code from a Dunkin' promotional event, enter it here.
                                    </div>
                                </div>
                                
                            </div>
                            <div class="promocode-wrapper col-lg-12 col-xs-12 col-sm-12 col-md-12">
                            <label  class="input-label" for="registration_code">Enter your promo code: </label>
                            <div class="promocode">
                                <input type="text"  autocomplete="off" name="registration_code" id="registration_code" class="form-control">
                            </div>
            </div>
            </div>  
                        <div class="form-row clearFix card-separator" id="firstname-div">
                            <div class="input-wrapper">
                                <label class="input-label">*First Name</label>
                                <input type="text" id="profile_first_name" class="form-control" name="profile_first_name"/>
                            </div>
                            <div class="input-wrapper">
                                <label class="input-label">*Last Name</label>
                                <input type="text"  id="profile_last_name" class="form-control" name="profile_last_name"/>
                            </div>
                        </div>
                        <div class="form-row clearFix billingAddWrapper">
                        <label class="input-label">*Billing Street Address</label>
                                <input type="text" id="billing_address" maxlength="50" class="form-control" name="billing_address"/>
                        </div>
                        <div class="form-row clearFix billingAddWrapper">                         
                                <label class="input-label">Billing Street Address 2</label>
                                <input type="text" id="billing_address2" maxlength="50" class="form-control" name="billing_address2"/>
                        </div>
                        <div class="form-row clearFix zipCodeWrapper">                            
                            <div class="field-wrapper">
                                <label class="input-label">*ZIP Code</label>
                                <input type="tel"  name="profile_zip" id="profile_zip" class="zipcode form-control"> 
                            </div>
                            <div class="field-wrapper">
                                <label class="input-label zipCityLabel">*City</label>
                                <input type="text" id="city" class="form-control zip-city" name="city"/>
                            </div>
                            <div class="field-wrapper">
                                <label class="input-label zipStateLabel">*State</label>
                                <input type="text"  id="state" class="form-control zip-state" name="state"/>
                            </div>                                        
                        </div>
                        <div class="form-row clearFix">
                            <div class="input-wrapper">
                                <label class="input-label">*Email Address</label>
                                <input type="text"  id="profile_email" class="form-control" name="profile_email"/>
                            </div>
                            <div class="input-wrapper newUser">
                                <label class="input-label">*Confirm Email Address</label>
                                <input type="text"  id="profile_email_confirm" class="form-control disable" name="profile_email_confirm"/>
                            </div>
                        </div>                                             
                        <div class="form-row clearFix newUser">
                            <div class="input-wrapper">                                
                                    <label class="input-label">*Password</label>
                                    <input type="password"  id="profile_password_new" class="form-control password disable" name="profile_password_new" autocomplete="off"/>
                                 
                                 <p class="instruction  password-hint">8-50 characters, must contain numbers & letters.</p>  
                            </div>
                            <div class="input-wrapper">
                                <label class="input-label">*Confirm Password</label>
                                <input type="password"  id="profile_password_new_confirmation" class="form-control password" name="profile_password_new_confirmation" autocomplete="off"/>
                            </div>                            
                        </div>
                        <div class="form-row clearFix">                         
                            <label class="input-label">*Birthday</label>
                            <div class="dob-wrapper">
                                <select  name="profile_dob_month" id="profile_dob_month" class="selectpicker">
                                    <option value="">Month</option>
                                    <option value="1">Jan</option>
                                    <option value="2">Feb</option>
                                    <option value="3">Mar</option>
                                    <option value="4">Apr</option>
                                    <option value="5">May</option>
                                    <option value="6">Jun</option>
                                    <option value="7">Jul</option>
                                    <option value="8">Aug</option>
                                    <option value="9">Sep</option>
                                    <option value="10">Oct</option>
                                    <option value="11">Nov</option>
                                    <option value="12">Dec</option>
                                </select>
                                <select  name="profile_dob_day" id="profile_dob_day" class="selectpicker year-field">
                                    <option value="">Day</option>
                                    <option value="01">01</option>
                                    <option value="02">02</option>
                                    <option value="03">03</option>
                                    <option value="04">04</option>
                                    <option value="05">05</option>
                                    <option value="06">06</option>
                                    <option value="07">07</option>
                                    <option value="08">08</option>
                                    <option value="09">09</option>
                                    <option value="10">10</option>
                                    <option value="11">11</option>
                                    <option value="12">12</option>
                                    <option value="13">13</option>
                                    <option value="14">14</option>
                                    <option value="15">15</option>
                                    <option value="16">16</option>
                                    <option value="17">17</option>
                                    <option value="18">18</option>
                                    <option value="19">19</option>
                                    <option value="20">20</option>
                                    <option value="21">21</option>
                                    <option value="22">22</option>
                                    <option value="23">23</option>
                                    <option value="24">24</option>
                                    <option value="25">25</option>
                                    <option value="26">26</option>
                                    <option value="27">27</option>
                                    <option value="28">28</option>
                                    <option value="29">29</option>
                                    <option value="30">30</option>
                                    <option value="31">31</option>
                                </select>
                                <select  name="profile_dob_year" id="profile_dob_year" style= "display:none;">
                                    <option value="1904">Year</option>
                                    
                                    <option value="2013">2013</option>
                                    
                                    <option value="2012">2012</option>
                                    
                                    <option value="2011">2011</option>
                                    
                                    <option value="2010">2010</option>
                                    
                                    <option value="2009">2009</option>
                                    
                                    <option value="2008">2008</option>
                                    
                                    <option value="2007">2007</option>
                                    
                                    <option value="2006">2006</option>
                                    
                                    <option value="2005">2005</option>
                                    
                                    <option value="2004">2004</option>
                                    
                                    <option value="2003">2003</option>
                                    
                                    <option value="2002">2002</option>
                                    
                                    <option value="2001">2001</option>
                                    
                                    <option value="2000">2000</option>
                                    
                                    <option value="1999">1999</option>
                                    
                                    <option value="1998">1998</option>
                                    
                                    <option value="1997">1997</option>
                                    
                                    <option value="1996">1996</option>
                                    
                                    <option value="1995">1995</option>
                                    
                                    <option value="1994">1994</option>
                                    
                                    <option value="1993">1993</option>
                                    
                                    <option value="1992">1992</option>
                                    
                                    <option value="1991">1991</option>
                                    
                                    <option value="1990">1990</option>
                                    
                                    <option value="1989">1989</option>
                                    
                                    <option value="1988">1988</option>
                                    
                                    <option value="1987">1987</option>
                                    
                                    <option value="1986">1986</option>
                                    
                                    <option value="1985">1985</option>
                                    
                                    <option value="1984">1984</option>
                                    
                                    <option value="1983">1983</option>
                                    
                                    <option value="1982">1982</option>
                                    
                                    <option value="1981">1981</option>
                                    
                                    <option value="1980">1980</option>
                                    
                                    <option value="1979">1979</option>
                                    
                                    <option value="1978">1978</option>
                                    
                                    <option value="1977">1977</option>
                                    
                                    <option value="1976">1976</option>
                                    
                                    <option value="1975">1975</option>
                                    
                                    <option value="1974">1974</option>
                                    
                                    <option value="1973">1973</option>
                                    
                                    <option value="1972">1972</option>
                                    
                                    <option value="1971">1971</option>
                                    
                                    <option value="1970">1970</option>
                                    
                                    <option value="1969">1969</option>
                                    
                                    <option value="1968">1968</option>
                                    
                                    <option value="1967">1967</option>
                                    
                                    <option value="1966">1966</option>
                                    
                                    <option value="1965">1965</option>
                                    
                                    <option value="1964">1964</option>
                                    
                                    <option value="1963">1963</option>
                                    
                                    <option value="1962">1962</option>
                                    
                                    <option value="1961">1961</option>
                                    
                                    <option value="1960">1960</option>
                                    
                                    <option value="1959">1959</option>
                                    
                                    <option value="1958">1958</option>
                                    
                                    <option value="1957">1957</option>
                                    
                                    <option value="1956">1956</option>
                                    
                                    <option value="1955">1955</option>
                                    
                                    <option value="1954">1954</option>
                                    
                                    <option value="1953">1953</option>
                                    
                                    <option value="1952">1952</option>
                                    
                                    <option value="1951">1951</option>
                                    
                                    <option value="1950">1950</option>
                                    
                                    <option value="1949">1949</option>
                                    
                                    <option value="1948">1948</option>
                                    
                                    <option value="1947">1947</option>
                                    
                                    <option value="1946">1946</option>
                                    
                                    <option value="1945">1945</option>
                                    
                                    <option value="1944">1944</option>
                                    
                                    <option value="1943">1943</option>
                                    
                                    <option value="1942">1942</option>
                                    
                                    <option value="1941">1941</option>
                                    
                                    <option value="1940">1940</option>
                                    
                                    <option value="1939">1939</option>
                                    
                                    <option value="1938">1938</option>
                                    
                                    <option value="1937">1937</option>
                                    
                                    <option value="1936">1936</option>
                                    
                                    <option value="1935">1935</option>
                                    
                                    <option value="1934">1934</option>
                                    
                                    <option value="1933">1933</option>
                                    
                                    <option value="1932">1932</option>
                                    
                                    <option value="1931">1931</option>
                                    
                                    <option value="1930">1930</option>
                                    
                                    <option value="1929">1929</option>
                                    
                                    <option value="1928">1928</option>
                                    
                                    <option value="1927">1927</option>
                                    
                                    <option value="1926">1926</option>
                                    
                                    <option value="1925">1925</option>
                                    
                                    <option value="1924">1924</option>
                                    
                                    <option value="1923">1923</option>
                                    
                                    <option value="1922">1922</option>
                                    
                                    <option value="1921">1921</option>
                                    
                                    <option value="1920">1920</option>
                                    
                                    <option value="1919">1919</option>
                                    
                                    <option value="1918">1918</option>
                                    
                                    <option value="1917">1917</option>
                                    
                                    <option value="1916">1916</option>
                                    
                                    <option value="1915">1915</option>
                                    
                                </select>
                                <label for="profile_dob_date" class="dob-error"></label>
                            </div>
                            <span class="bd-message col-xs-12 col-sm-12 col-md-12">Receive a free beverage for your birthday.</span>
                        </div>
                        
                        <div class="form-row clearFix separator">
                            <div class="custom-checkbox">
                                <input type="checkbox" value="None" id="termsCondition" name="termsCondition"/>
                                <label class="label-terms-condition" for="termsCondition">*I agree with the  <a href="/dunkindonuts/en/responsive/ddperks/termsandcondition.html" target="_blank">Terms & Conditions</a></label>
                <label for="termsCondition" class="error terms-condition-error"></label>
                            </div>                          
                        </div>
                        <div class="form-row clearFix">                         
                            <input type="submit" value="Submit" id="registration_submit" class="standard-button large-button col-lg-5 col-sm-7 col-md-5"/>
                            <span class="please-wait standard-button large-button col-lg-5 col-sm-7 col-md-5" style="display:none;"><span>Please Wait...  <img src="/etc/designs/dunkindonuts/images/loading_small.gif"></span></span>                         
                      </div>
                    </fieldset>
                </form>
            </section>
 <script> 
    $(document).ready(function() {
         $("#card_number").blur();    
});

</script>     






 
  

                







<div style="display:none">
<!--
Start of DoubleClick Floodlight Tag: Please do not remove
Activity name of this tag: VCO - Dunkin Donuts - Purchase DD Card - Landing Page
URL of the webpage where the tag is expected to be placed: https://www.dunkindonuts.com/dunkindonuts/en/responsive/ddperks/enteryourinfo.html
This tag must be placed between the <body> and </body> tags, as close as possible to the opening tag.
Creation Date: 05/14/2015
-->
<script type="text/javascript">
var axel = Math.random() + "";
var a = axel * 10000000000000;
document.write('<iframe src="https://2592736.fls.doubleclick.net/activityi;src=2592736;type=vism001;cat=vco-d005;ord=' + a + '?" width="1" height="1" frameborder="0" style="display:none"></iframe>');
</script>
<noscript>
<iframe src="https://2592736.fls.doubleclick.net/activityi;src=2592736;type=vism001;cat=vco-d005;ord=1?" width="1" height="1" frameborder="0" style="display:none"></iframe>
</noscript>
<!-- End of DoubleClick Floodlight Tag: Please do not remove -->
</div>





 
  

                







<div style="display:none">
<!--
Start of DoubleClick Floodlight Tag: Please do not remove
Activity name of this tag: VCO - Dunkin Donuts - Purchase DD Card - VCO Button
URL of the webpage where the tag is expected to be placed: https://www.dunkindonuts.com/dunkindonuts/en/responsive/ddperks/enteryourinfo.html
This tag must be placed between the <body> and </body> tags, as close as possible to the opening tag.
Creation Date: 05/14/2015
-->
<script type="text/javascript">
$("#visa-checkout-button-holder").on("click", function(){
var axel = Math.random() + "";
	var a = axel * 10000000000000;
    var iframe = document.createElement('iframe');
    iframe.src ="https://2592736.fls.doubleclick.net/activityi;src=2592736;type=vism001;cat=vco-d006;ord=" + a + "?";
    iframe.style.width="1px";
    iframe.style.height="1px";
    iframe.style.display="none";
	document.body.appendChild(iframe);
 });
</script>
<noscript>
<iframe src="https://2592736.fls.doubleclick.net/activityi;src=2592736;type=vism001;cat=vco-d006;ord=1?" width="1" height="1" frameborder="0" style="display:none"></iframe>
</noscript>
<!-- End of DoubleClick Floodlight Tag: Please do not remove -->
</div>













<div class="term-condition row col-xs-12 col-md-12 col-sm-12">


</div>

 
  
        
    </div>
    
<div id="scTagOutput" style="display:none;"></div>

<!-- SiteCatalyst code version: H.22.1.
Copyright 1996-2010 Adobe, Inc. All Rights Reserved
More info available at http://www.omniture.com -->


 
<script type="text/javascript">
    ddScServer = "164.109.96.224";
    ddScLoggedIn = "false";
    ddScUserId = "";
</script> 
<script language="JavaScript" type="text/javascript">

scTagPage();


</script>
<script language="JavaScript" type="text/javascript"><!--
if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
//--></script><noscript><img src="https://studiocom.122.2o7.net/b/ss/studiocomdunkin/1/H.22.1--NS/0" height="1" width="1" border="0" alt=""/></noscript><!--/DO NOT REMOVE/-->
<!-- End SiteCatalyst code version: H.22.1. -->    

</body>
</html>
