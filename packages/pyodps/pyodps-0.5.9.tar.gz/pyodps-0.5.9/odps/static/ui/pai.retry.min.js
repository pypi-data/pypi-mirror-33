require(['pyodps'],function(a){a.define_widget('pyodps/ml/retry',["jquery","widgets"],function(b,c){var d='<a class="retry-btn" title="Retry"><i class="fa fa-repeat" /></a>';var e=c.DOMWidgetView.extend({initialize:function(a){var b=this;b.listenTo(b.model,'msg:custom',b._handle_route_msg,b);b.model.on('change:msg',b._msg_changed,b);},render:function(){b(this.$el).closest('.widget-area').find('div').hide();},update:function(){b(this.$el).closest('.widget-area').find('div').hide();},_msg_changed:function(){var c=this;var e=b(c.$el.closest('.cell'));var f=e.data('cell');var g=b(d);g.click(function(a){var b=f.get_text();f.set_text('%retry\n\n'+b);f.execute();f.set_text(b);a.stopPropagation();});a.call_on_executed(c,function(){var a=e.find('.input_prompt');a.append(g);});c.remove();}});return{MLRetryButton:e};});});