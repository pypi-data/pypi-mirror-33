
<!DOCTYPE html>
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
   <meta name="robots" content="NONE,NOARCHIVE" />
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
   <title>Polemarch documentation</title>
    <link rel="stylesheet" href="_static/polemarch-style.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
   <link rel="shortcut icon" href="_static/img/logo/favicon.ico" />
    <script type="text/javascript" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/js/libs/tabSignal.js"></script>
    <script type="text/javascript" src="_static/js/common.js"></script>
     <script type="text/javascript" src="_static/js/app.js"></script> 
</head>


<body class="hold-transition skin-black-light sidebar-mini">
<div id="loader-wrapper">
    <div id="loader"></div>
</div>
<div class="wrapper" >
    
    <a href="https://github.com/vstconsulting/polemarch" class="fork-me">
        <img src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub" />
    </a>
    
    <header class="main-header">
        <!-- Logo  -->
        <a href="/" class="logo">
                    <!-- mini logo for sidebar mini 50x50 pixel -->
                    <span class="logo-mini"><span class="bg-logo-min-doc" style="margin-left: 4px;"></span></span>
                    <!-- logo for regular state and mobile devices -->
                    <span class="logo-lg logo-span-doc"><span class="bg-logo-min-doc"></span> <span class="bg-logo-doc"></span></span>
                </a>
        <!-- Header Navbar: style can be found in header.less -->
        <nav class="navbar navbar-static-top">
            <!-- Sidebar toggle button-->
            <a href="#" class="sidebar-toggle" data-toggle="offcanvas" role="button">
                <span class="sr-only">Toggle navigation</span>
            </a>
            <div class="navbar-custom-menu">
                <ul class="nav navbar-nav">

                </ul>
            </div>
        </nav>
    </header>
    <!-- Left side column. contains the logo and sidebar -->
    <aside class="main-sidebar">
        <!-- sidebar: style can be found in sidebar.less -->
        <section class="sidebar">
            <!-- sidebar menu: : style can be found in sidebar.less -->
            <ul class="sidebar-menu">
                <li class="header">DOCS NAVIGATION</li>
                <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation and quick start</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#red-hat-centos-installation">Red Hat/CentOS installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ubuntu-debian-installation">Ubuntu/Debian installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#quickstart">Quickstart</a></li>
<li class="toctree-l2"><a class="reference internal" href="#backup">Backup</a></li>
<li class="toctree-l2"><a class="reference internal" href="#update">Update</a></li>
<li class="toctree-l2"><a class="reference internal" href="#migrate">Migrate</a></li>
<li class="toctree-l2"><a class="reference internal" href="#create-superuser">Create superuser</a></li>
<li class="toctree-l2"><a class="reference internal" href="#change-password">Change password</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pipinstall.html">Run from source distribution</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">Configuration manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui.html">GUI workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="restapi.html">Rest API</a></li>
<li class="toctree-l1"><a class="reference internal" href="contribute.html">How to participate</a></li>
<li class="toctree-l1"><a class="reference internal" href="cla.html">VST Consulting contributor agreement</a></li>
</ul>

            </ul>
            <!-- github link  -->
            
                
                <h3>Watch us on GitHub</h3>
                <p>
                <iframe src="https://ghbtns.com/github-btn.html?user=vstconsulting&repo=polemarch&type=watch&count=true&size=large&v=2"
                  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
                </p>
                
            
            <!-- quick search -->
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" class="search-input-pm"/>
      <span class="search-button-wrapper">
          <span class="glyphicon glyphicon-search search-button-icon"></span>
          <input type="submit" value="   " class="search-button-input" />
      </span>

      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </section>
        <!-- /.sidebar -->
    </aside>

    <!-- Content Wrapper. Contains page content -->
    <div class="content-wrapper" id='spajs-right-area'>
        <!--  Main content -->

        <!-- For notification about not up-to-date-version -->
        <div class="body" role="main"></div>
        <!-- -->

        <section class="content-header">
                <h1>Polemarch documentation</h1>
        </section>
        <section class="content">
            <div class="box box-info">
                <div class="box-body">
                         
  <div class="section" id="installation-and-quick-start">
<h1>Installation and quick start<a class="headerlink" href="#installation-and-quick-start" title="Permalink to this headline">¶</a></h1>
<div class="section" id="red-hat-centos-installation">
<h2>Red Hat/CentOS installation<a class="headerlink" href="#red-hat-centos-installation" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">Download rpm from latest <a class="reference external" href="https://github.com/vstconsulting/polemarch/releases">release</a>.</p>
</li>
<li><p class="first">Install it with command</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo yum localinstall polemarch-X.X.X-X.x86_64.rpm.
</pre></div>
</div>
</li>
<li><p class="first">Run services with commands</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo service polemarchweb start
sudo service polemarchworker start
</pre></div>
</div>
</li>
</ol>
<p>That’s it. Polemarch web panel on 8080 port. Default administrative account is
admin/admin.</p>
<p>Note: If you using authentication by password at some of your machines
managed by Polemarch, you also must install <code class="docutils literal notranslate"><span class="pre">sshpass</span></code> package because it
required for ansible to autheticate via ssh by password. It available in
EPEL for Red Hat/CentOS. Also you can use specify <code class="docutils literal notranslate"><span class="pre">connection</span></code> command line
argument during playbook run as <code class="docutils literal notranslate"><span class="pre">paramiko</span></code>. When ansible uses paramiko to
make ssh connection, <code class="docutils literal notranslate"><span class="pre">sshpass</span></code> not necessary.</p>
</div>
<div class="section" id="ubuntu-debian-installation">
<h2>Ubuntu/Debian installation<a class="headerlink" href="#ubuntu-debian-installation" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">Download deb from latest <a class="reference external" href="https://github.com/vstconsulting/polemarch/releases">release</a>.</p>
</li>
<li><p class="first">Install it with command</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo dpkg -i polemarch_X.X.X-X_amd64.deb <span class="o">||</span> sudo apt-get install -f
</pre></div>
</div>
</li>
<li><p class="first">Run services with commands</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo service polemarchweb start
sudo service polemarchworker start
</pre></div>
</div>
</li>
</ol>
<p>That’s it. Polemarch web panel on 8080 port. Default administrative account is
admin/admin.</p>
</div>
<div class="section" id="quickstart">
<h2>Quickstart<a class="headerlink" href="#quickstart" title="Permalink to this headline">¶</a></h2>
<p>After you install Polemarch by instructions above you can use it without any
further configurations. Interface is pretty intuitive and common for any web
application.</p>
<p>Default installation is suitable for most simple and common cases, but
Polemarch is highly configurable system. If you need something more advanced
(scalability, dedicated DB, custom cache, logging or directories) you can
always configure Polemarch like said in <a class="reference internal" href="config.html"><span class="doc">Configuration manual</span></a>.</p>
</div>
<div class="section" id="backup">
<h2>Backup<a class="headerlink" href="#backup" title="Permalink to this headline">¶</a></h2>
<p>Regular uploading of backups is a guarantee of the reliability of the application.
There are several ways of making a backup. The first one is not very reliable, but if you want, you can use it.
To upload the data, use the command:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo -u polemarch /opt/polemarch/bin/polemarchctl dumpdata --natural-foreign --natural-primary -a --indent <span class="m">4</span> -o /home/polemarch/backup.json
</pre></div>
</div>
</div></blockquote>
<p>To load the saved data, use:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo -u polemarch /opt/polemarch/bin/polemarchctl loaddata /home/polemarch/backup.json
</pre></div>
</div>
</div></blockquote>
<p>The second way is to use SQL backup or to copy you database manually.
We strongly recommend to use this way of making a backup, because
it is faster and more reliale, than first one.</p>
<p>There are examples of SQL backup for MySQL and PostgreSQL below.</p>
<p>Making backup in MySQL:</p>
<blockquote>
<div><div class="highlight-mysql notranslate"><div class="highlight"><pre><span></span><span class="n">shell</span><span class="o">&gt;</span> <span class="n">mysqldump</span> <span class="n">dbname</span> <span class="o">&gt;</span> <span class="n">dump</span><span class="p">.</span><span class="k">sql</span>
</pre></div>
</div>
</div></blockquote>
<p>Here dbname is the name of your database, dump.sql is the file, where all SQL backup statements
will be saved.</p>
<p>Uploading of backup in MySQL:</p>
<blockquote>
<div><div class="highlight-mysql notranslate"><div class="highlight"><pre><span></span><span class="n">shell</span><span class="o">&gt;</span> <span class="n">mysqladmin</span> <span class="k">create</span> <span class="n">dbname</span>
<span class="n">shell</span><span class="o">&gt;</span> <span class="n">mysql</span> <span class="n">dbname</span> <span class="o">&lt;</span> <span class="n">dump</span><span class="p">.</span><span class="k">sql</span>
</pre></div>
</div>
</div></blockquote>
<p>Making backup in PostgreSQL:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pg_dump dbname &gt; dump.sql
</pre></div>
</div>
</div></blockquote>
<p>Uploading of backup in PostgreSQL:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>createdb dbname
psql dbname &lt; dump.sql
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="update">
<h2>Update<a class="headerlink" href="#update" title="Permalink to this headline">¶</a></h2>
<p>Before updating any type of package strongly recommended to stop all services and create backup for safe.</p>
</div>
<div class="section" id="migrate">
<h2>Migrate<a class="headerlink" href="#migrate" title="Permalink to this headline">¶</a></h2>
<p>Migrations are Django’s way of propagating changes you make to your models (adding a field, deleting a model, etc.)
into your database schema. They’re designed to be mostly automatic, but you’ll need to know when to make migrations,
when to run them, and the common problems you might run into.</p>
<p>To run a <code class="docutils literal notranslate"><span class="pre">migrate</span></code> command you should run follow code:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="o">-</span><span class="n">u</span> <span class="n">polemarch</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">polemarch</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">polemarchctl</span> <span class="n">migrate</span>
</pre></div>
</div>
</div>
<div class="section" id="create-superuser">
<h2>Create superuser<a class="headerlink" href="#create-superuser" title="Permalink to this headline">¶</a></h2>
<p>A superuser is the user, who has all permissions.</p>
<p>To create a superuser account use the follow command:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="o">-</span><span class="n">u</span> <span class="n">polemarch</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">polemarch</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">polemarchctl</span> <span class="n">createsuperuser</span>
</pre></div>
</div>
<p>This command will promt for all required user’s options.</p>
</div>
<div class="section" id="change-password">
<h2>Change password<a class="headerlink" href="#change-password" title="Permalink to this headline">¶</a></h2>
<p>To change password use the follow command:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="o">-</span><span class="n">u</span> <span class="n">polemarch</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">polemarch</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">polemarchctl</span> <span class="n">changepassword</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">username</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
<p>It prompts you to enter a new password twice for the given user.
If the entries are identical, this immediately becomes the new password.
If you do not supply a user, the command will attempt to change the password whose username matches
the current user.</p>
</div>
</div>


                </div>
            </div>
        </section>
    </div>

    
    <footer class="main-footer">
         <div class="pull-right hidden-xs">
             &copy; 2018, VST Consulting
         </div>
        <br>
    </footer>
    
</div>

</body>

</html>

