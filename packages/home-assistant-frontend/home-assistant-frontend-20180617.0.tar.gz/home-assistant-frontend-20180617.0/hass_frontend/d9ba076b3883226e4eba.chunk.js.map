{"version":3,"sources":["webpack:///./src/panels/experimental-ui/hui-entities-card.js","webpack:///./src/panels/experimental-ui/hui-entity-filter-card.js","webpack:///./src/panels/experimental-ui/hui-view.js","webpack:///./src/panels/experimental-ui/hui-root.js","webpack:///./src/panels/experimental-ui/ha-panel-experimental-ui.js"],"names":["customElements","define","polymer_element","a","template","html_tag","properties","hass","type","Object","observer","config","constructor","super","this","_elements","getCardSize","entities","length","_computeTitle","title","_configChanged","root","$","states","lastChild","removeChild","i","entityId","stateObj","tag","state_card_type","element","document","createElement","push","appendChild","_hassChanged","_getEntities","filter","filters","domain","compute_state_domain","state","values","every","filterFunc","map","entity_id","_computeCardConfig","assign","card_config","VALID_TYPES","columns","Number","_getElements","cards","elements","cardConfig","includes","startsWith","substr","console","error","columnEntityCount","forEach","el","size","minIndex","val","column","columnEl","classList","add","apply_themes_on_element","themes","theme","events_mixin","narrow","Boolean","showMenu","_curView","value","_computeTabsHidden","views","_computeTabTitle","view","tab_title","name","_computeViewConfig","_handleRefresh","fire","_handleViewSelected","ev","detail","selected","_scrollToTop","scroller","layout","header","scrollTarget","animationId","Math","random","startTime","Date","now","currentScrollTop","scrollTop","deltaScrollTop","_currentAnimationId","updateFrame","t","elapsedTime","requestAnimationFrame","bind","call","_columns","_config","ready","_fetchConfig","_handleWindowChange","mqls","width","mql","matchMedia","addListener","matchColumns","reduce","cols","matches","max","connection","sendMessagePromise","then","conf","result"],"mappings":"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","file":"d9ba076b3883226e4eba.chunk.js","sourcesContent":["import '@polymer/iron-flex-layout/iron-flex-layout-classes.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nimport stateCardType from '../../common/entity/state_card_type.js';\n\nimport '../../components/ha-card.js';\n\n// just importing this now as shortcut to import correct state-card-*\nimport '../../state-summary/state-card-content.js';\n\nclass HuiEntitiesCard extends PolymerElement {\n  static get template() {\n    return html`\n    <style>\n      ha-card {\n        padding: 16px;\n      }\n      .state {\n        padding: 4px 0;\n      }\n      .header {\n        @apply --paper-font-headline;\n        /* overwriting line-height +8 because entity-toggle can be 40px height,\n           compensating this with reduced padding */\n        line-height: 40px;\n        color: var(--primary-text-color);\n        padding: 4px 0 12px;\n      }\n      .header .name {\n        @apply --paper-font-common-nowrap;\n      }\n    </style>\n\n    <ha-card>\n      <div class='header'>\n        <div class=\"name\">[[_computeTitle(config)]]</div>\n      </div>\n      <div id=\"states\"></div>\n    </ha-card>\n`;\n  }\n\n  static get properties() {\n    return {\n      hass: {\n        type: Object,\n        observer: '_hassChanged',\n      },\n      config: {\n        type: Object,\n        observer: '_configChanged',\n      }\n    };\n  }\n\n  constructor() {\n    super();\n    this._elements = [];\n  }\n\n  getCardSize() {\n    // +1 for the header\n    return 1 + (this.config ? this.config.entities.length : 0);\n  }\n\n  _computeTitle(config) {\n    return config.title;\n  }\n\n  _configChanged(config) {\n    const root = this.$.states;\n\n    while (root.lastChild) {\n      root.removeChild(root.lastChild);\n    }\n\n    this._elements = [];\n\n    for (let i = 0; i < config.entities.length; i++) {\n      const entityId = config.entities[i];\n      const stateObj = this.hass.states[entityId];\n      const tag = stateObj ? `state-card-${stateCardType(this.hass, stateObj)}` : 'state-card-display';\n      const element = document.createElement(tag);\n      element.stateObj = stateObj;\n      element.hass = this.hass;\n      this._elements.push({ entityId, element });\n      root.appendChild(element);\n    }\n  }\n\n  _hassChanged(hass) {\n    for (let i = 0; i < this._elements.length; i++) {\n      const { entityId, element } = this._elements[i];\n      const stateObj = hass.states[entityId];\n      element.stateObj = stateObj;\n      element.hass = hass;\n    }\n  }\n}\ncustomElements.define('hui-entities-card', HuiEntitiesCard);\n","import { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nimport './hui-entities-card.js';\n\nimport computeStateDomain from '../../common/entity/compute_state_domain.js';\n\nclass HuiEntitiesCard extends PolymerElement {\n  static get template() {\n    return html`\n    <hui-entities-card\n      hass='[[hass]]'\n      config='[[_computeCardConfig(hass, config)]]'\n    ></hui-entities-card>\n`;\n  }\n\n  static get properties() {\n    return {\n      hass: Object,\n      config: Object,\n    };\n  }\n\n  getCardSize() {\n    // +1 for the header\n    return 1 + this._getEntities(this.hass, this.config.filter).length;\n  }\n\n  // Return a list of entities based on a filter.\n  _getEntities(hass, filter) {\n    const filters = [];\n\n    if (filter.domain) {\n      const domain = filter.domain;\n      filters.push(stateObj => computeStateDomain(stateObj) === domain);\n    }\n\n    if (filter.state) {\n      const state = filter.state;\n      filters.push(stateObj => stateObj.state === state);\n    }\n\n    return Object.values(hass.states)\n      .filter(stateObj => filters.every(filterFunc => filterFunc(stateObj)))\n      .map(stateObj => stateObj.entity_id);\n  }\n\n  _computeCardConfig(hass, config) {\n    return Object.assign({}, config.card_config || {}, {\n      entities: this._getEntities(hass, config.filter),\n    });\n  }\n}\ncustomElements.define('hui-entity-filter-card', HuiEntitiesCard);\n","import { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nimport './hui-entities-card.js';\nimport './hui-entity-filter-card.js';\n\nimport applyThemesOnElement from '../../common/dom/apply_themes_on_element.js';\n\nconst VALID_TYPES = ['entities', 'entity-filter'];\nconst CUSTOM_TYPE_PREFIX = 'custom:';\n\nfunction cardElement(type) {\n  if (VALID_TYPES.includes(type)) {\n    return `hui-${type}-card`;\n  } else if (type.startsWith(CUSTOM_TYPE_PREFIX)) {\n    return type.substr(CUSTOM_TYPE_PREFIX.length);\n  }\n  return null;\n}\n\nclass HUIView extends PolymerElement {\n  static get template() {\n    return html`\n      <style>\n      :host {\n        display: block;\n        padding: 4px 4px 0;\n        transform: translateZ(0);\n        position: relative;\n      }\n\n      #columns {\n        display: flex;\n        flex-direction: row;\n        justify-content: center;\n      }\n\n      .column {\n        flex-basis: 0;\n        flex-grow: 1;\n        max-width: 500px;\n        overflow-x: hidden;\n      }\n\n      .column > * {\n        display: block;\n        margin: 4px 4px 8px;\n      }\n\n      @media (max-width: 500px) {\n        :host {\n          padding-left: 0;\n          padding-right: 0;\n        }\n\n        .column > * {\n          margin-left: 0;\n          margin-right: 0;\n        }\n      }\n\n      @media (max-width: 599px) {\n        .column {\n          max-width: 600px;\n        }\n      }\n      </style>\n      <div id='columns'></div>\n    `;\n  }\n  static get properties() {\n    return {\n      hass: {\n        type: Object,\n        observer: '_hassChanged',\n      },\n\n      columns: {\n        type: Number,\n        observer: '_configChanged',\n      },\n\n      config: {\n        type: Object,\n        observer: '_configChanged',\n      },\n    };\n  }\n\n  constructor() {\n    super();\n    this._elements = [];\n  }\n\n  _getElements(cards) {\n    const elements = [];\n\n    for (let i = 0; i < cards.length; i++) {\n      const cardConfig = cards[i];\n      const tag = cardElement(cardConfig.type);\n      if (!tag) {\n        // eslint-disable-next-line\n        console.error('Unknown type encountered:', cardConfig.type);\n        continue;\n      }\n      const element = document.createElement(tag);\n      element.config = cardConfig;\n      element.hass = this.hass;\n      elements.push(element);\n    }\n\n    return elements;\n  }\n\n  _configChanged() {\n    const root = this.$.columns;\n    const config = this.config;\n\n    while (root.lastChild) {\n      root.removeChild(root.lastChild);\n    }\n\n    if (!config) {\n      this._elements = [];\n      return;\n    }\n\n    const elements = this._getElements(config.cards);\n\n    let columns = [];\n    const columnEntityCount = [];\n    for (let i = 0; i < this.columns; i++) {\n      columns.push([]);\n      columnEntityCount.push(0);\n    }\n\n    // Find column with < 5 entities, else column with lowest count\n    function getColumnIndex(size) {\n      let minIndex = 0;\n      for (let i = 0; i < columnEntityCount.length; i++) {\n        if (columnEntityCount[i] < 5) {\n          minIndex = i;\n          break;\n        }\n        if (columnEntityCount[i] < columnEntityCount[minIndex]) {\n          minIndex = i;\n        }\n      }\n\n      columnEntityCount[minIndex] += size;\n\n      return minIndex;\n    }\n\n    elements.forEach(el =>\n      columns[getColumnIndex(el.getCardSize())].push(el));\n\n    // Remove empty columns\n    columns = columns.filter(val => val.length > 0);\n\n    columns.forEach((column) => {\n      const columnEl = document.createElement('div');\n      columnEl.classList.add('column');\n      column.forEach(el => columnEl.appendChild(el));\n      root.appendChild(columnEl);\n    });\n\n    this._elements = elements;\n\n    if ('theme' in config) {\n      applyThemesOnElement(root, this.hass.themes, config.theme);\n    }\n  }\n\n  _hassChanged(hass) {\n    for (let i = 0; i < this._elements.length; i++) {\n      this._elements[i].hass = hass;\n    }\n  }\n}\n\ncustomElements.define('hui-view', HUIView);\n","import '@polymer/app-layout/app-header-layout/app-header-layout.js';\nimport '@polymer/app-layout/app-header/app-header.js';\nimport '@polymer/app-layout/app-toolbar/app-toolbar.js';\nimport '@polymer/paper-icon-button/paper-icon-button.js';\nimport '@polymer/paper-tabs/paper-tab.js';\nimport '@polymer/paper-tabs/paper-tabs.js';\nimport '@polymer/iron-icon/iron-icon.js';\n\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nimport EventsMixin from '../../mixins/events-mixin.js';\nimport '../../layouts/ha-app-layout.js';\nimport './hui-view.js';\n\nclass HUIRoot extends EventsMixin(PolymerElement) {\n  static get template() {\n    return html`\n    <style include='ha-style'>\n      :host {\n        -ms-user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n      }\n\n      ha-app-layout {\n        min-height: 100%;\n      }\n      paper-tabs {\n        margin-left: 12px;\n        --paper-tabs-selection-bar-color: var(--text-primary-color, #FFF);\n        text-transform: uppercase;\n      }\n    </style>\n    <ha-app-layout id=\"layout\">\n      <app-header slot=\"header\" fixed>\n        <app-toolbar>\n          <ha-menu-button narrow='[[narrow]]' show-menu='[[showMenu]]'></ha-menu-button>\n          <div main-title>[[_computeTitle(config)]]</div>\n          <paper-icon-button icon='hass:refresh' on-click='_handleRefresh'></paper-icon-button>\n        </app-toolbar>\n\n        <div sticky hidden$=\"[[_computeTabsHidden(config.views)]]\">\n          <paper-tabs scrollable selected=\"[[_curView]]\" on-iron-activate=\"_handleViewSelected\">\n            <template is=\"dom-repeat\" items=\"[[config.views]]\">\n              <paper-tab on-click=\"_scrollToTop\">\n                <template is=\"dom-if\" if=\"[[item.tab_icon]]\">\n                  <iron-icon title$=\"[[item.name]]\" icon=\"[[item.tab_icon]]\"></iron-icon>\n                </template>\n                <template is=\"dom-if\" if=\"[[!item.tab_icon]]\">\n                  [[_computeTabTitle(item)]]\n                </template>\n              </paper-tab>\n            </template>\n          </paper-tabs>\n        </div>\n      </app-header>\n\n      <hui-view\n        hass='[[hass]]'\n        config='[[_computeViewConfig(config.views, _curView)]]'\n        columns='[[columns]]'\n      ></hui-view>\n    </app-header-layout>\n    `;\n  }\n\n  static get properties() {\n    return {\n      hass: Object,\n      narrow: Boolean,\n      showMenu: Boolean,\n      config: Object,\n      columns: Number,\n\n      _curView: {\n        type: Number,\n        value: 0,\n      }\n    };\n  }\n\n  _computeTitle(config) {\n    return config.title || 'Experimental UI';\n  }\n\n  _computeTabsHidden(views) {\n    return views.length < 2;\n  }\n\n  _computeTabTitle(view) {\n    return view.tab_title || view.name || 'Unnamed View';\n  }\n\n  _computeViewConfig(views, _curView) {\n    return views[_curView];\n  }\n\n  _handleRefresh() {\n    this.fire('config-refresh');\n  }\n\n  _handleViewSelected(ev) {\n    this._curView = ev.detail.selected;\n  }\n\n  /**\n   * Scroll to a specific y coordinate.\n   *\n   * Copied from paper-scroll-header-panel.\n   *\n   * @method scroll\n   * @param {number} top The coordinate to scroll to, along the y-axis.\n   * @param {boolean} smooth true if the scroll position should be smoothly adjusted.\n   */\n  _scrollToTop() {\n    // the scroll event will trigger _updateScrollState directly,\n    // However, _updateScrollState relies on the previous `scrollTop` to update the states.\n    // Calling _updateScrollState will ensure that the states are synced correctly.\n    var top = 0;\n    var scroller = this.$.layout.header.scrollTarget;\n    var easingFn = function easeOutQuad(t, b, c, d) {\n      /* eslint-disable no-param-reassign, space-infix-ops, no-mixed-operators */\n      t /= d;\n      return -c * t*(t-2) + b;\n      /* eslint-enable no-param-reassign, space-infix-ops, no-mixed-operators */\n    };\n    var animationId = Math.random();\n    var duration = 200;\n    var startTime = Date.now();\n    var currentScrollTop = scroller.scrollTop;\n    var deltaScrollTop = top - currentScrollTop;\n    this._currentAnimationId = animationId;\n    (function updateFrame() {\n      var now = Date.now();\n      var elapsedTime = now - startTime;\n      if (elapsedTime > duration) {\n        scroller.scrollTop = top;\n      } else if (this._currentAnimationId === animationId) {\n        scroller.scrollTop = easingFn(elapsedTime, currentScrollTop, deltaScrollTop, duration);\n        requestAnimationFrame(updateFrame.bind(this));\n      }\n    }).call(this);\n  }\n}\n\ncustomElements.define('hui-root', HUIRoot);\n","import '@polymer/app-layout/app-header-layout/app-header-layout.js';\nimport '@polymer/app-layout/app-header/app-header.js';\nimport '@polymer/app-layout/app-toolbar/app-toolbar.js';\nimport '@polymer/paper-icon-button/paper-icon-button.js';\nimport '@polymer/paper-tabs/paper-tab.js';\nimport '@polymer/paper-tabs/paper-tabs.js';\nimport '@polymer/iron-icon/iron-icon.js';\n\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nimport '../../layouts/hass-loading-screen.js';\nimport './hui-root.js';\n\nclass ExperimentalUI extends PolymerElement {\n  static get template() {\n    return html`\n      <template is='dom-if' if='[[!_config]]' restamp>\n        <hass-loading-screen\n          narrow=\"[[narrow]]\"\n          show-menu=\"[[showMenu]]\"\n        ></hass-loading-screen>\n      </template>\n      <template is='dom-if' if='[[_config]]' restamp>\n        <hui-root\n          hass='[[hass]]'\n          config='[[_config]]'\n          columns='[[_columns]]'\n          on-config-refresh='_fetchConfig'\n        ></hui-root>\n      </template>\n    `;\n  }\n\n  static get properties() {\n    return {\n      hass: Object,\n\n      narrow: {\n        type: Boolean,\n        value: false,\n      },\n\n      showMenu: {\n        type: Boolean,\n        value: false,\n      },\n\n      _columns: {\n        type: Number,\n        value: 1,\n      },\n\n      _config: {\n        type: Object,\n        value: null,\n      },\n    };\n  }\n\n  ready() {\n    super.ready();\n    this._fetchConfig();\n    this._handleWindowChange = this._handleWindowChange.bind(this);\n    this.mqls = [300, 600, 900, 1200].map((width) => {\n      const mql = matchMedia(`(min-width: ${width}px)`);\n      mql.addListener(this._handleWindowChange);\n      return mql;\n    });\n    this._handleWindowChange();\n  }\n\n  _handleWindowChange() {\n    const matchColumns = this.mqls.reduce((cols, mql) => cols + mql.matches, 0);\n    // Do -1 column if the menu is docked and open\n    this._columns = Math.max(1, matchColumns - (!this.narrow && this.showMenu));\n  }\n\n  _fetchConfig() {\n    this.hass.connection.sendMessagePromise({ type: 'frontend/experimental_ui' })\n      .then((conf) => { this._config = conf.result; });\n  }\n}\n\ncustomElements.define('ha-panel-experimental-ui', ExperimentalUI);\n"],"sourceRoot":""}