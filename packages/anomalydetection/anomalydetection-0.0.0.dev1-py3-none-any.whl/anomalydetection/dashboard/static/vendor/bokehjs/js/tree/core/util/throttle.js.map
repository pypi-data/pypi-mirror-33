{"version":3,"sources":["core/util/throttle.ts"],"names":[],"mappings":";;AAAA,0BAA0B,QAA8B;IACtD,QAAQ,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAA,CAAC,yBAAyB;IAC9C,OAAO,CAAC,CAAC,CAAA;AACX,CAAC;AAED,IAAM,eAAe,GACnB,CAAC,OAAO,MAAM,KAAK,WAAW,CAAC,CAAC,CAAE,MAAM,CAAS,qBAAqB,CAAO,CAAC,CAAC,SAAS,CAAC;IACzF,CAAC,OAAO,MAAM,KAAK,WAAW,CAAC,CAAC,CAAE,MAAM,CAAS,2BAA2B,CAAC,CAAC,CAAC,SAAS,CAAC;IACzF,CAAC,OAAO,MAAM,KAAK,WAAW,CAAC,CAAC,CAAE,MAAc,CAAC,wBAAwB,CAAI,CAAC,CAAC,SAAS,CAAC;IACzF,CAAC,OAAO,MAAM,KAAK,WAAW,CAAC,CAAC,CAAE,MAAc,CAAC,uBAAuB,CAAK,CAAC,CAAC,SAAS,CAAC,IAAI,gBAAgB,CAAA;AAE/G,oEAAoE;AACpE,2CAA2C;AAC3C,EAAE;AACF,kEAAkE;AAClE,iEAAiE;AACjE,0BAA0B;AAC1B,EAAE;AACF,kDAAkD;AAClD,8DAA8D;AAC9D,wCAAwC;AACxC,EAAE;AACF,kBAAyB,IAAgB,EAAE,IAAY;IACrD,IAAI,OAAO,GAAkB,IAAI,CAAA;IACjC,IAAI,QAAQ,GAAG,CAAC,CAAA;IAChB,IAAI,OAAO,GAAG,KAAK,CAAA;IAEnB,IAAM,KAAK,GAAG;QACZ,QAAQ,GAAG,IAAI,CAAC,GAAG,EAAE,CAAA;QACrB,OAAO,GAAG,IAAI,CAAA;QACd,OAAO,GAAG,KAAK,CAAA;QACf,IAAI,EAAE,CAAA;IACR,CAAC,CAAA;IAED,OAAO;QACL,IAAM,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,CAAA;QACtB,IAAM,SAAS,GAAG,IAAI,GAAG,CAAC,GAAG,GAAG,QAAQ,CAAC,CAAA;QACzC,IAAI,SAAS,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;YAC9B,IAAI,OAAO,IAAI,IAAI;gBACjB,YAAY,CAAC,OAAO,CAAC,CAAA;YACvB,OAAO,GAAG,IAAI,CAAA;YACd,eAAe,CAAC,KAAK,CAAC,CAAA;SACvB;aAAM,IAAI,CAAC,OAAO,IAAI,CAAC,OAAO;YAC7B,OAAO,GAAG,UAAU,CAAC,cAAM,OAAA,eAAe,CAAC,KAAK,CAAC,EAAtB,CAAsB,EAAE,SAAS,CAAC,CAAA;IACjE,CAAC,CAAA;AACH,CAAC;AAvBD,4BAuBC","file":"throttle.js","sourcesContent":["function _delay_animation(callback: FrameRequestCallback): number {\n  callback(Date.now()) // XXX: performance.now()\n  return -1\n}\n\nconst delay_animation =\n  (typeof window !== 'undefined' ?  window        .requestAnimationFrame       : undefined) ||\n  (typeof window !== 'undefined' ?  window        .webkitRequestAnimationFrame : undefined) ||\n  (typeof window !== 'undefined' ? (window as any).mozRequestAnimationFrame    : undefined) ||\n  (typeof window !== 'undefined' ? (window as any).msRequestAnimationFrame     : undefined) || _delay_animation\n\n// Returns a function, that, when invoked, will only be triggered at\n// most once during a given window of time.\n//\n// In addition, if the browser supports requestAnimationFrame, the\n// throttled function will be run no more frequently than request\n// animation frame allows.\n//\n// @param func [function] the function to throttle\n// @param wait [number] time in milliseconds to use for window\n// @return [function] throttled function\n//\nexport function throttle(func: () => void, wait: number): () => void {\n  let timeout: number | null = null\n  let previous = 0\n  let pending = false\n\n  const later = function() {\n    previous = Date.now()\n    timeout = null\n    pending = false\n    func()\n  }\n\n  return function() {\n    const now = Date.now()\n    const remaining = wait - (now - previous)\n    if (remaining <= 0 && !pending) {\n      if (timeout != null)\n        clearTimeout(timeout)\n      pending = true\n      delay_animation(later)\n    } else if (!timeout && !pending)\n      timeout = setTimeout(() => delay_animation(later), remaining)\n  }\n}\n"]}