{"version":3,"sources":["models/tickers/util.ts"],"names":[],"mappings":";AAAA,sCAAsC;AACtC,kCAAkC;AAClC,2EAA2E;AAC3E,iCAAiC;AACjC,kBAAkB;AAClB,sEAAsE;AACtE,yEAAyE;AACzE,2EAA2E;AAC3E,0CAA0C;;AAE1C,wCAAwC;AAC3B,QAAA,SAAS,GAAG,GAAG,CAAA;AACf,QAAA,UAAU,GAAG,MAAM,CAAA;AACnB,QAAA,UAAU,GAAG,IAAI,GAAG,kBAAU,CAAA;AAC9B,QAAA,QAAQ,GAAG,EAAE,GAAG,kBAAU,CAAA;AAC1B,QAAA,OAAO,GAAG,EAAE,GAAG,gBAAQ,CAAA;AACvB,QAAA,SAAS,GAAG,EAAE,GAAG,eAAO,CAAA,CAAC,+BAA+B;AACxD,QAAA,QAAQ,GAAG,GAAG,GAAG,eAAO,CAAA;AAErC,8EAA8E;AAC9E,8BAA8B;AAC9B,8EAA8E;AAE9E,iCAAiC;AACjC,mBAA0B,IAAU;IAClC,OAAO,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAA;AACjC,CAAC;AAFD,8BAEC;AAED,mCAAmC;AACnC,kCAAyC,IAAU;IACjD,IAAM,QAAQ,GAAG,SAAS,CAAC,IAAI,CAAC,CAAA;IAChC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,CAAA;IACtB,QAAQ,CAAC,WAAW,CAAC,CAAC,CAAC,CAAA;IACvB,QAAQ,CAAC,aAAa,CAAC,CAAC,CAAC,CAAA;IACzB,QAAQ,CAAC,aAAa,CAAC,CAAC,CAAC,CAAA;IACzB,QAAQ,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAA;IAC9B,OAAO,QAAQ,CAAA;AACjB,CAAC;AARD,4DAQC;AAED,kCAAkC;AAClC,iCAAwC,IAAU;IAChD,IAAM,QAAQ,GAAG,wBAAwB,CAAC,IAAI,CAAC,CAAA;IAC/C,QAAQ,CAAC,WAAW,CAAC,CAAC,CAAC,CAAA;IACvB,OAAO,QAAQ,CAAA;AACjB,CAAC;AAJD,0DAIC","file":"util.js","sourcesContent":["// TODO Clear out debugging code, etc.\n// TODO Organize helper functions.\n// TODO The years ticker doesn't always use the roundest numbers; it should\n// probably use a special ticker.\n// TODO Add tests.\n// TODO There used to be a TODO: restore memoization.  So.... do that?\n// TODO Instead of a get_ticks() method, there used to be an auto_ticks()\n// function that took a lot of fancy arguments, but those arguments weren't\n// used anywhere.  Should we restore them?\n\n// Some time constants, in milliseconds.\nexport const ONE_MILLI = 1.0\nexport const ONE_SECOND = 1000.0\nexport const ONE_MINUTE = 60.0 * ONE_SECOND\nexport const ONE_HOUR = 60 * ONE_MINUTE\nexport const ONE_DAY = 24 * ONE_HOUR\nexport const ONE_MONTH = 30 * ONE_DAY // An approximation, obviously.\nexport const ONE_YEAR = 365 * ONE_DAY\n\n// ---------------------------------------------------------------------------\n// Date/time utility functions\n// ---------------------------------------------------------------------------\n\n// Makes a copy of a date object.\nexport function copy_date(date: Date): Date {\n  return new Date(date.getTime())\n}\n\n// Rounds a date down to the month.\nexport function last_month_no_later_than(date: Date): Date {\n  const new_date = copy_date(date)\n  new_date.setUTCDate(1)\n  new_date.setUTCHours(0)\n  new_date.setUTCMinutes(0)\n  new_date.setUTCSeconds(0)\n  new_date.setUTCMilliseconds(0)\n  return new_date\n}\n\n// Rounds a date down to the year.\nexport function last_year_no_later_than(date: Date): Date {\n  const new_date = last_month_no_later_than(date)\n  new_date.setUTCMonth(0)\n  return new_date\n}\n"]}