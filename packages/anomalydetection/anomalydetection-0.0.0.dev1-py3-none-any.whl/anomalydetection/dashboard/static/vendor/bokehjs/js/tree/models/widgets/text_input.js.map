{"version":3,"sources":["models/widgets/text_input.ts"],"names":[],"mappings":"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","file":"text_input.js","sourcesContent":["import {logger} from \"core/logging\"\nimport * as p from \"core/properties\"\nimport {empty, label, input} from \"core/dom\"\n\nimport {InputWidget, InputWidgetView} from \"./input_widget\"\n\nexport class TextInputView extends InputWidgetView {\n  model: TextInput\n\n  protected inputEl: HTMLInputElement\n\n  initialize(options: any): void {\n    super.initialize(options)\n    this.render()\n  }\n\n  connect_signals(): void {\n    super.connect_signals()\n    this.connect(this.model.change, () => this.render())\n  }\n\n  css_classes(): string[] {\n    return super.css_classes().concat(\"bk-widget-form-group\")\n  }\n\n  render(): void {\n    super.render()\n\n    empty(this.el)\n\n    const labelEl = label({for: this.model.id}, this.model.title)\n    this.el.appendChild(labelEl)\n\n    this.inputEl = input({\n      type: \"text\",\n      \"class\": \"bk-widget-form-input\",\n      id: this.model.id,\n      name: this.model.name,\n      value: this.model.value,\n      disabled: this.model.disabled,\n      placeholder: this.model.placeholder,\n    })\n    this.inputEl.addEventListener(\"change\", () => this.change_input())\n    this.el.appendChild(this.inputEl)\n\n    // TODO - This 35 is a hack we should be able to compute it\n    if (this.model.height)\n      this.inputEl.style.height = `${this.model.height - 35}px`\n  }\n\n  change_input(): void {\n    const value = this.inputEl.value\n    logger.debug(`widget/text_input: value = ${value}`)\n    this.model.value = value\n    super.change_input()\n  }\n}\n\nexport namespace TextInput {\n  export interface Attrs extends InputWidget.Attrs {\n    value: string\n    placeholder: string\n  }\n\n  export interface Props extends InputWidget.Props {}\n}\n\nexport interface TextInput extends TextInput.Attrs {}\n\nexport class TextInput extends InputWidget {\n\n  properties: TextInput.Props\n\n  constructor(attrs?: Partial<TextInput.Attrs>) {\n    super(attrs)\n  }\n\n  static initClass(): void {\n    this.prototype.type = \"TextInput\"\n    this.prototype.default_view = TextInputView\n\n    this.define({\n      value:       [ p.String, \"\" ],\n      placeholder: [ p.String, \"\" ],\n    })\n  }\n}\n\nTextInput.initClass()\n"]}