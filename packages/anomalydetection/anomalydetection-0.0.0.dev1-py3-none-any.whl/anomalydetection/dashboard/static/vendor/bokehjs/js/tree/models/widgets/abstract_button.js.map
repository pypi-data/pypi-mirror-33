{"version":3,"sources":["models/widgets/abstract_button.ts"],"names":[],"mappings":"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","file":"abstract_button.js","sourcesContent":["import * as p from \"core/properties\"\nimport {empty, prepend, nbsp, button} from \"core/dom\"\nimport {build_views, remove_views} from \"core/build_views\"\n\nimport {Widget, WidgetView} from \"./widget\"\nimport {AbstractIcon, AbstractIconView} from \"./abstract_icon\"\n\nexport type ButtonType = \"default\" | \"primary\" | \"success\" | \"warning\" | \"danger\" | \"link\"\n\nexport abstract class AbstractButtonView extends WidgetView {\n  model: AbstractButton\n\n  protected icon_views: {[key: string]: AbstractIconView}\n\n  protected buttonEl: HTMLButtonElement\n\n  initialize(options: any): void {\n    super.initialize(options)\n    this.icon_views = {}\n    this.render()\n  }\n\n  connect_signals(): void {\n    super.connect_signals()\n    this.connect(this.model.change, () => this.render())\n  }\n\n  remove(): void {\n    remove_views(this.icon_views)\n    super.remove()\n  }\n\n  _render_button(...children: (string | HTMLElement)[]): HTMLButtonElement {\n    return button({\n      type: \"button\",\n      disabled: this.model.disabled,\n      class: [`bk-bs-btn`, `bk-bs-btn-${this.model.button_type}`],\n    }, ...children)\n  }\n\n  render(): void {\n    super.render()\n\n    empty(this.el)\n    this.buttonEl = this._render_button(this.model.label)\n    this.buttonEl.addEventListener(\"click\", (event) => this._button_click(event))\n    this.el.appendChild(this.buttonEl)\n\n    const icon = this.model.icon\n    if (icon != null) {\n      build_views(this.icon_views, [icon], {parent: this})\n      prepend(this.buttonEl, this.icon_views[icon.id].el, nbsp)\n    }\n  }\n\n  protected _button_click(event: Event): void {\n    event.preventDefault()\n    this.change_input()\n  }\n\n  change_input(): void {\n    if (this.model.callback != null)\n      this.model.callback.execute(this.model)\n  }\n}\n\nexport namespace AbstractButton {\n  export interface Attrs extends Widget.Attrs {\n    label: string\n    icon: AbstractIcon\n    button_type: ButtonType\n    callback: any // XXX\n  }\n\n  export interface Props extends Widget.Props {}\n}\n\nexport interface AbstractButton extends AbstractButton.Attrs {}\n\nexport abstract class AbstractButton extends Widget {\n\n  properties: AbstractButton.Props\n\n  constructor(attrs?: Partial<AbstractButton.Attrs>) {\n    super(attrs)\n  }\n\n  static initClass(): void {\n    this.prototype.type = \"AbstractButton\"\n\n    this.define({\n      label:       [ p.String, \"Button\"  ],\n      icon:        [ p.Instance          ],\n      button_type: [ p.String, \"default\" ], // TODO (bev)\n      callback:    [ p.Instance          ],\n    })\n  }\n}\n\nAbstractButton.initClass()\n"]}