{"version":3,"sources":["core/util/callback.ts"],"names":[],"mappings":";AAAA,0BAA0B;AAC1B,8BAA8B;AAC9B,yFAAyF;AACzF,kEAAkE;;AAElE,eAAsB,IAAgB,EAAE,IAAY;IAClD,OAAO,UAAU,CAAC,IAAI,EAAE,IAAI,CAAC,CAAA;AAC/B,CAAC;AAFD,sBAEC;AAED,IAAM,MAAM,GAAG,OAAO,qBAAqB,KAAK,UAAU,CAAC,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC,YAAY,CAAA;AAEjG,eAAsB,IAAgB;IACpC,OAAO,MAAM,CAAC,IAAI,CAAC,CAAA;AACrB,CAAC;AAFD,sBAEC;AAOD,kBAA4B,IAAa,EAAE,IAAY,EAAE,OAA6B;IAA7B,wBAAA,EAAA,YAA6B;IACpF,IAAI,OAAY,EAAE,IAAS,EAAE,MAAS,CAAA;IACtC,IAAI,OAAO,GAAkB,IAAI,CAAA;IACjC,IAAI,QAAQ,GAAG,CAAC,CAAA;IAChB,IAAM,KAAK,GAAG;QACZ,QAAQ,GAAG,OAAO,CAAC,OAAO,KAAK,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAA;QACrD,OAAO,GAAG,IAAI,CAAA;QACd,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,IAAI,CAAC,CAAA;QAClC,IAAI,CAAC,OAAO;YAAE,OAAO,GAAG,IAAI,GAAG,IAAI,CAAA;IACrC,CAAC,CAAA;IACD,OAAO;QACL,IAAM,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,CAAA;QACtB,IAAI,CAAC,QAAQ,IAAI,OAAO,CAAC,OAAO,KAAK,KAAK;YAAE,QAAQ,GAAG,GAAG,CAAA;QAC1D,IAAM,SAAS,GAAG,IAAI,GAAG,CAAC,GAAG,GAAG,QAAQ,CAAC,CAAA;QACzC,OAAO,GAAG,IAAI,CAAA;QACd,IAAI,GAAG,SAAS,CAAA;QAChB,IAAI,SAAS,IAAI,CAAC,IAAI,SAAS,GAAG,IAAI,EAAE;YACtC,IAAI,OAAO,EAAE;gBACX,YAAY,CAAC,OAAO,CAAC,CAAA;gBACrB,OAAO,GAAG,IAAI,CAAA;aACf;YACD,QAAQ,GAAG,GAAG,CAAA;YACd,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,IAAI,CAAC,CAAA;YAClC,IAAI,CAAC,OAAO;gBAAE,OAAO,GAAG,IAAI,GAAG,IAAI,CAAA;SACpC;aAAM,IAAI,CAAC,OAAO,IAAI,OAAO,CAAC,QAAQ,KAAK,KAAK,EAAE;YACjD,OAAO,GAAG,UAAU,CAAC,KAAK,EAAE,SAAS,CAAC,CAAA;SACvC;QACD,OAAO,MAAM,CAAA;IACf,CAAC,CAAA;AACH,CAAC;AA7BD,4BA6BC;AAED,cAAwB,IAAa;IACnC,IAAI,IAAI,GAAG,KAAK,CAAA;IAChB,IAAI,IAAO,CAAA;IACX,OAAO;QACL,IAAI,CAAC,IAAI,EAAE;YACT,IAAI,GAAG,IAAI,CAAA;YACX,IAAI,GAAG,IAAI,EAAE,CAAA;SACd;QACD,OAAO,IAAI,CAAA;IACb,CAAC,CAAA;AACH,CAAC;AAVD,oBAUC","file":"callback.js","sourcesContent":["//     Underscore.js 1.8.3\n//     http://underscorejs.org\n//     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n//     Underscore may be freely distributed under the MIT license.\n\nexport function delay(func: () => void, wait: number): number {\n  return setTimeout(func, wait)\n}\n\nconst _defer = typeof requestAnimationFrame === \"function\" ? requestAnimationFrame : setImmediate\n\nexport function defer(func: () => void): number {\n  return _defer(func)\n}\n\nexport interface ThrottleOptions {\n  leading?: boolean\n  trailing?: boolean\n}\n\nexport function throttle<T>(func: () => T, wait: number, options: ThrottleOptions = {}) {\n  let context: any, args: any, result: T\n  let timeout: number | null = null\n  let previous = 0\n  const later = function() {\n    previous = options.leading === false ? 0 : Date.now()\n    timeout = null\n    result = func.apply(context, args)\n    if (!timeout) context = args = null\n  }\n  return function(this: any) {\n    const now = Date.now()\n    if (!previous && options.leading === false) previous = now\n    const remaining = wait - (now - previous)\n    context = this\n    args = arguments\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout)\n        timeout = null\n      }\n      previous = now\n      result = func.apply(context, args)\n      if (!timeout) context = args = null\n    } else if (!timeout && options.trailing !== false) {\n      timeout = setTimeout(later, remaining)\n    }\n    return result\n  }\n}\n\nexport function once<T>(func: () => T): () => T {\n  let done = false\n  let memo: T\n  return function() {\n    if (!done) {\n      done = true\n      memo = func()\n    }\n    return memo\n  }\n}\n"]}