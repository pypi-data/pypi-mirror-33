{"version":3,"sources":["models/tiles/bbox_tile_source.ts"],"names":[],"mappings":";;;AAAA,+DAAyD;AACzD,mCAAoC;AAYpC;IAAoC,0CAAkB;IAIpD,wBAAY,KAAqC;eAC/C,kBAAM,KAAK,CAAC;IACd,CAAC;IAEM,wBAAS,GAAhB;QACE,IAAI,CAAC,SAAS,CAAC,IAAI,GAAG,gBAAgB,CAAA;QAEtC,IAAI,CAAC,MAAM,CAAC;YACV,UAAU,EAAE,CAAE,CAAC,CAAC,IAAI,EAAE,KAAK,CAAE;SAC9B,CAAC,CAAA;IACJ,CAAC;IAED,sCAAa,GAAb,UAAc,CAAS,EAAE,CAAS,EAAE,CAAS;QAC3C,IAAM,SAAS,GAAG,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,cAAc,CAAC,CAAA;QAE3E,IAAI,IAAY,EAAE,IAAY,EAAE,IAAY,EAAE,IAAY,CAAA;QAC1D,IAAI,IAAI,CAAC,UAAU;YACjB,6CAAmE,EAAlE,YAAI,EAAE,YAAI,EAAE,YAAI,EAAE,YAAI,CAA4C;;YAEnE,wCAA8D,EAA7D,YAAI,EAAE,YAAI,EAAE,YAAI,EAAE,YAAI,CAAuC;QAEhE,OAAO,SAAS,CAAC,OAAO,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,EAAE,CAAC;aAClC,OAAO,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,EAAE,CAAC;aAClC,OAAO,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,EAAE,CAAC;aAClC,OAAO,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAA;;IACrD,CAAC;IACH,qBAAC;AAAD,CA9BA,AA8BC,CA9BmC,yCAAkB,GA8BrD;AA9BY,wCAAc;AA+B3B,cAAc,CAAC,SAAS,EAAE,CAAA","file":"bbox_tile_source.js","sourcesContent":["import {MercatorTileSource} from './mercator_tile_source'\nimport * as p from \"core/properties\"\n\nexport namespace BBoxTileSource {\n  export interface Attrs extends MercatorTileSource.Attrs {\n    use_latlon: boolean\n  }\n\n  export interface Props extends MercatorTileSource.Props {}\n}\n\nexport interface BBoxTileSource extends BBoxTileSource.Attrs {}\n\nexport class BBoxTileSource extends MercatorTileSource {\n\n  properties: BBoxTileSource.Props\n\n  constructor(attrs?: Partial<BBoxTileSource.Attrs>) {\n    super(attrs)\n  }\n\n  static initClass(): void {\n    this.prototype.type = 'BBoxTileSource'\n\n    this.define({\n      use_latlon: [ p.Bool, false ],\n    })\n  }\n\n  get_image_url(x: number, y: number, z: number): string {\n    const image_url = this.string_lookup_replace(this.url, this.extra_url_vars)\n\n    let xmax: number, xmin: number, ymax: number, ymin: number\n    if (this.use_latlon)\n      [xmin, ymin, xmax, ymax] = this.get_tile_geographic_bounds(x, y, z)\n    else\n      [xmin, ymin, xmax, ymax] = this.get_tile_meter_bounds(x, y, z)\n\n    return image_url.replace(\"{XMIN}\", xmin.toString())\n                    .replace(\"{YMIN}\", ymin.toString())\n                    .replace(\"{XMAX}\", xmax.toString())\n                    .replace(\"{YMAX}\", ymax.toString())\n  }\n}\nBBoxTileSource.initClass()\n"]}