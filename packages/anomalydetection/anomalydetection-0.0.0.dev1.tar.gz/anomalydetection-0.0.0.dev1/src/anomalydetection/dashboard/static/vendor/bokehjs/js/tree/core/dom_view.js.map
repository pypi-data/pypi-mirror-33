{"version":3,"sources":["core/dom_view.ts"],"names":[],"mappings":";;;AAAA,+BAAwC;AAExC,2BAA4B;AAE5B;IAA6B,mCAAI;IAAjC;;IA+DA,CAAC;IArDC,4BAAU,GAAV,UAAW,OAAoB;QAC7B,iBAAM,UAAU,YAAC,OAAO,CAAC,CAAA;QACzB,IAAI,CAAC,aAAa,GAAG,KAAK,CAAA;QAC1B,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,cAAc,EAAE,CAAA;IACjC,CAAC;IAED,wBAAM,GAAN;QACE,GAAG,CAAC,aAAa,CAAC,IAAI,CAAC,EAAE,CAAC,CAAA;QAC1B,iBAAM,MAAM,WAAE,CAAA;IAChB,CAAC;IAED,6BAAW,GAAX;QACE,OAAO,EAAE,CAAA;IACX,CAAC;IAED,sBAAI,2BAAM;aAAV;YACE,OAAO,IAAI,CAAA;QACb,CAAC;;;OAAA;IAED,wBAAM,GAAN,cAAgB,CAAC;IAEjB,wBAAM,GAAN,cAAgB,CAAC;IAEjB,0BAAQ,GAAR,UAAS,OAAoB,EAAE,OAAwB;QAAxB,wBAAA,EAAA,eAAwB;QACrD,IAAI,CAAC,OAAO;YACV,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,CAAA;;YAE5B,GAAG,CAAC,WAAW,CAAC,OAAO,EAAE,IAAI,CAAC,EAAE,CAAC,CAAA;QAEnC,IAAI,CAAC,MAAM,EAAE,CAAA;IACf,CAAC;IAID,8BAAY,GAAZ;QACE,OAAO,IAAI,CAAC,aAAa,CAAA;IAC3B,CAAC;IAED,sBAAc,kCAAa;aAA3B;YACE,OAAO,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,EAAE,UAAU,CAAC,IAAI,QAAQ,CAAC,IAAI,CAAA;QACzD,CAAC;;;OAAA;IAED,sBAAI,2BAAM;aAAV;YACE,OAAO,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAE,IAAI,CAAC,MAAkB,CAAC,MAAM,CAAA;QACtE,CAAC;;;OAAA;IAED,sBAAI,4BAAO;aAAX;YACE,OAAO,IAAI,CAAC,YAAY,EAAE,CAAA;QAC5B,CAAC;;;OAAA;IAES,gCAAc,GAAxB;QACE,OAAO,GAAG,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,EAAE,EAAC,EAAE,EAAE,IAAI,CAAC,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,WAAW,EAAE,EAAC,CAAC,CAAA;IAClF,CAAC;IACH,cAAC;AAAD,CA/DA,AA+DC,CA/D4B,WAAI,GA+DhC;AA/DY,0BAAO;AAiEpB,OAAO,CAAC,SAAS,CAAC,OAAO,GAAG,KAAK,CAAA","file":"dom_view.js","sourcesContent":["import {View, ViewOptions} from \"./view\"\nimport {Solver} from \"./layout/solver\"\nimport * as DOM from \"./dom\"\n\nexport class DOMView extends View {\n\n  tagName: keyof HTMLElementTagNameMap\n\n  protected _has_finished: boolean\n\n  protected _solver: Solver\n\n  el: HTMLElement\n\n  initialize(options: ViewOptions): void {\n    super.initialize(options)\n    this._has_finished = false\n    this.el = this._createElement()\n  }\n\n  remove(): void {\n    DOM.removeElement(this.el)\n    super.remove()\n  }\n\n  css_classes(): string[] {\n    return []\n  }\n\n  get cursor(): string | null {\n    return null\n  }\n\n  layout(): void {}\n\n  render(): void {}\n\n  renderTo(element: HTMLElement, replace: boolean = false): void {\n    if (!replace)\n      element.appendChild(this.el)\n    else\n      DOM.replaceWith(element, this.el)\n\n    this.layout()\n  }\n\n  on_hit?(sx: number, sy: number): boolean\n\n  has_finished(): boolean {\n    return this._has_finished\n  }\n\n  protected get _root_element(): HTMLElement {\n    return DOM.parent(this.el, \".bk-root\") || document.body\n  }\n\n  get solver(): Solver {\n    return this.is_root ? this._solver : (this.parent as DOMView).solver\n  }\n\n  get is_idle(): boolean {\n    return this.has_finished()\n  }\n\n  protected _createElement(): HTMLElement {\n    return DOM.createElement(this.tagName, {id: this.id, class: this.css_classes()})\n  }\n}\n\nDOMView.prototype.tagName = \"div\"\n"]}