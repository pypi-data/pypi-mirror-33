{"version":3,"sources":["models/widgets/radio_button_group.ts"],"names":[],"mappings":"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","file":"radio_button_group.js","sourcesContent":["import {empty, input, label, div} from \"core/dom\"\nimport {uniqueId} from \"core/util/string\"\nimport * as p from \"core/properties\"\n\nimport {Widget, WidgetView} from \"./widget\"\nimport {ButtonType} from \"./abstract_button\"\n\nexport class RadioButtonGroupView extends WidgetView {\n  model: RadioButtonGroup\n\n  initialize(options: any): void {\n    super.initialize(options)\n    this.render()\n  }\n\n  connect_signals(): void {\n    super.connect_signals()\n    this.connect(this.model.change, () => this.render())\n  }\n\n  render(): void {\n    super.render()\n\n    empty(this.el)\n    const divEl = div({class: \"bk-bs-btn-group\"})\n    this.el.appendChild(divEl)\n\n    const name = uniqueId()\n\n    const active = this.model.active\n    const labels = this.model.labels\n\n    for (let i = 0; i < labels.length; i++) {\n      const text = labels[i]\n      const inputEl = input({type: `radio`, name: name, value: `${i}`, checked: i == active})\n      inputEl.addEventListener(\"change\", () => this.change_input())\n      const labelEl = label({class: [`bk-bs-btn`, `bk-bs-btn-${this.model.button_type}`]}, inputEl, text)\n      if (i == active)\n        labelEl.classList.add(\"bk-bs-active\")\n      divEl.appendChild(labelEl)\n    }\n  }\n\n  change_input(): void {\n    const radios = this.el.querySelectorAll(\"input\")\n    const active: number[] = []\n    for (let i = 0; i < radios.length; i++) {\n      const radio = radios[i]\n      if (radio.checked)\n        active.push(i)\n    }\n    this.model.active = active[0]\n    if (this.model.callback != null)\n      this.model.callback.execute(this.model)\n  }\n}\n\nexport namespace RadioButtonGroup {\n  export interface Attrs extends Widget.Attrs {\n    active: number\n    labels: string[]\n    button_type: ButtonType\n    callback: any // XXX\n  }\n\n  export interface Props extends Widget.Props {}\n}\n\nexport interface RadioButtonGroup extends RadioButtonGroup.Attrs {}\n\nexport class RadioButtonGroup extends Widget {\n\n  properties: RadioButtonGroup.Props\n\n  constructor(attrs?: Partial<RadioButtonGroup.Attrs>) {\n    super(attrs)\n  }\n\n  static initClass(): void {\n    this.prototype.type = \"RadioButtonGroup\"\n    this.prototype.default_view = RadioButtonGroupView\n\n    this.define({\n      active:      [ p.Any,    null      ], // TODO (bev) better type?\n      labels:      [ p.Array,  []        ],\n      button_type: [ p.String, \"default\" ],\n      callback:    [ p.Instance ],\n    })\n  }\n}\n\nRadioButtonGroup.initClass()\n"]}