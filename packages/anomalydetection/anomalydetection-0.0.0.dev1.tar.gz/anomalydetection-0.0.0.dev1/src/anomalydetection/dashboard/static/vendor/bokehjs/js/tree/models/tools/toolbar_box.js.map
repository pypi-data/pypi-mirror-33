{"version":3,"sources":["models/tools/toolbar_box.ts"],"names":[],"mappings":";;;AAAA,mCAAoC;AAEpC,gCAA8B;AAC9B,wCAAmC;AACnC,yCAAwC;AACxC,yCAAqD;AAIrD,qDAAgD;AAChD,iDAA4C;AAC5C,wDAAmD;AACnD,0DAAqD;AACrD,+CAAwE;AACxE,2CAAsC;AAEtC,oDAA8D;AAC9D,gDAA0D;AAU1D;IAAkC,wCAAW;IAI3C,sBAAY,KAAmC;eAC7C,kBAAM,KAAK,CAAC;IACd,CAAC;IAEM,sBAAS,GAAhB;QACE,IAAI,CAAC,SAAS,CAAC,IAAI,GAAG,cAAc,CAAA;IACtC,CAAC;IAID,iCAAU,GAAV;QACE,iBAAM,UAAU,WAAE,CAAA;QAClB,IAAI,CAAC,WAAW,EAAE,CAAA;QAClB,IAAI,CAAC,YAAY,EAAE,CAAA;IACrB,CAAC;IAES,kCAAW,GAArB;gCACa,IAAI;YACb,IAAI,IAAI,YAAY,0BAAW,EAAE;gBAC/B,IAAI,CAAC,WAAG,CAAC,OAAK,UAAU,EAAE,UAAC,CAAC,IAAK,OAAA,CAAC,CAAC,EAAE,IAAI,IAAI,CAAC,EAAE,EAAf,CAAe,CAAC;oBAC/C,OAAK,UAAU,GAAG,OAAK,UAAU,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CAAA;aACnD;iBAAM,IAAI,IAAI,YAAY,oBAAQ,EAAE;gBACnC,IAAI,CAAC,WAAG,CAAC,OAAK,IAAI,EAAE,UAAC,CAAC,IAAK,OAAA,CAAC,CAAC,EAAE,IAAI,IAAI,CAAC,EAAE,EAAf,CAAe,CAAC;oBACzC,OAAK,IAAI,GAAG,OAAK,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CAAA;aACvC;iBAAM,IAAI,IAAI,YAAY,wBAAU,EAAE;gBACrC,IAAI,CAAC,WAAG,CAAC,OAAK,OAAO,EAAE,UAAC,CAAC,IAAK,OAAA,CAAC,CAAC,EAAE,IAAI,IAAI,CAAC,EAAE,EAAf,CAAe,CAAC;oBAC5C,OAAK,OAAO,GAAG,OAAK,OAAO,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CAAA;aAC7C;iBAAM,IAAI,IAAI,YAAY,0BAAW,EAAE;gBACtC,IAAI,WAAW,SAAe,CAAA;gBAC9B,IAAI,KAAK,SAAS,CAAA;gBAClB,IAAI,gBAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE;oBAC7B,WAAW,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,CAAA;oBAC/B,KAAK,GAAG,KAAK,CAAA;iBACd;qBAAM;oBACL,WAAW,GAAG,IAAI,CAAC,UAAU,IAAI,EAAE,CAAA;oBACnC,KAAK,GAAG,IAAI,CAAA;iBACb;gBAED,KAAe,UAAW,EAAX,2BAAW,EAAX,yBAAW,EAAX,IAAW;oBAArB,IAAI,EAAE,oBAAA;oBACT,IAAI,CAAC,CAAC,EAAE,IAAI,OAAK,QAAQ,CAAC,EAAE;wBAC1B,gBAAM,CAAC,IAAI,CAAC,kCAAgC,EAAE,oBAAe,IAAI,CAAC,IAAI,UAAK,IAAI,CAAC,EAAE,MAAG,CAAC,CAAA;wBACtF,SAAQ;qBACT;oBAED,IAAI,KAAK;wBACP,EAAE,GAAG,OAAO,CAAA;oBAEd,IAAI,CAAC,WAAG,CAAC,OAAK,QAAQ,CAAC,EAAE,CAAC,CAAC,KAAK,EAAE,UAAC,CAAC,IAAK,OAAA,CAAC,CAAC,EAAE,IAAI,IAAI,CAAC,EAAE,EAAf,CAAe,CAAC;wBACvD,OAAK,QAAQ,CAAC,EAAE,CAAC,CAAC,KAAK,GAAG,OAAK,QAAQ,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CAAA;iBACnE;aACF;QACH,CAAC;;QAlCD,KAAmB,UAAU,EAAV,KAAA,IAAI,CAAC,KAAK,EAAV,cAAU,EAAV,IAAU;YAAxB,IAAM,IAAI,SAAA;oBAAJ,IAAI;SAkCd;IACH,CAAC;IAES,mCAAY,GAAtB;QAAA,iBA+FC;QA9FC,gEAAgE;QAChE,4CAA4C;QAC5C,IAAI,CAAC,cAAc,GAAG,EAAE,CAAA;QAExB,IAAM,UAAU,GAAmC,EAAE,CAAA;QACrD,IAAM,OAAO,GAAkC,EAAE,CAAA;QACjD,IAAM,QAAQ,GAAoD,EAAE,CAAA;QAEpE,IAAM,cAAc,GAAG,EAAE,CAAA;QACzB,IAAM,aAAa,GAAG,EAAE,CAAA;QACxB,KAAuB,UAAS,EAAT,KAAA,IAAI,CAAC,IAAI,EAAT,cAAS,EAAT,IAAS;YAA3B,IAAM,QAAQ,SAAA;YACjB,IAAI,CAAC,gBAAQ,CAAC,aAAa,EAAE,QAAQ,CAAC,QAAQ,CAAC,EAAE;gBAC/C,cAAc,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAA;gBAC7B,aAAa,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAA;aACtC;SACF;QACD,CAAA,KAAA,IAAI,CAAC,cAAc,CAAA,CAAC,IAAI,WAAI,cAAc,EAAC;QAC3C,IAAI,CAAC,IAAI,GAAG,cAAc,CAAA;QAE1B,KAAK,IAAM,UAAU,IAAI,IAAI,CAAC,QAAQ,EAAE;YACtC,IAAM,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,UAAyB,CAAC,CAAA;YACxD,IAAI,CAAC,CAAC,UAAU,IAAI,QAAQ,CAAC,EAAE;gBAC7B,QAAQ,CAAC,UAAU,CAAC,GAAG,EAAE,CAAA;aAC1B;YACD,KAAmB,UAAa,EAAb,KAAA,OAAO,CAAC,KAAK,EAAb,cAAa,EAAb,IAAa;gBAA3B,IAAM,IAAI,SAAA;gBACb,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,QAAQ,CAAC,UAAU,CAAC,CAAC,EAAE;oBACxC,QAAQ,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAA;iBACrC;gBACD,QAAQ,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;aAC3C;SACF;QAED,KAAmB,UAAe,EAAf,KAAA,IAAI,CAAC,UAAU,EAAf,cAAe,EAAf,IAAe;YAA7B,IAAM,IAAI,SAAA;YACb,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,UAAU,CAAC,EAAE;gBAC9B,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAA;aAC3B;YACD,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;SACjC;QAED,KAAmB,UAAY,EAAZ,KAAA,IAAI,CAAC,OAAO,EAAZ,cAAY,EAAZ,IAAY;YAA1B,IAAM,IAAI,SAAA;YACb,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,OAAO,CAAC,EAAE;gBAC3B,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAA;aACxB;YACD,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;SAC9B;QAED,+CAA+C;QAC/C,IAAM,UAAU,GAAG,UAAC,KAAmB,EAAE,MAAuB;YAAvB,uBAAA,EAAA,cAAuB;YAC9D,IAAM,KAAK,GAAG,IAAI,sBAAS,CAAC,EAAC,KAAK,OAAA,EAAE,MAAM,QAAA,EAAC,CAAC,CAAA;YAC5C,KAAI,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,CAAA;YAC/B,OAAO,KAAK,CAAA;QACd,CAAC,CAAA;QAED,KAAK,IAAM,UAAU,IAAI,QAAQ,EAAE;YACjC,IAAM,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,UAAyB,CAAC,CAAA;YACxD,OAAO,CAAC,KAAK,GAAG,EAAE,CAAA;YAElB,KAAK,IAAM,SAAS,IAAI,QAAQ,CAAC,UAAU,CAAC,EAAE;gBAC5C,IAAM,KAAK,GAAG,QAAQ,CAAC,UAAU,CAAC,CAAC,SAAS,CAAC,CAAA;gBAE7C,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;oBACpB,IAAM,KAAK,GAAG,UAAU,CAAC,KAAK,CAAC,CAAA;oBAC/B,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,KAAY,CAAC,CAAA;oBAChC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC,CAAA;iBACpF;aACF;SACF;QAED,IAAI,CAAC,OAAO,GAAG,EAAE,CAAA;QACjB,KAAK,IAAM,SAAS,IAAI,OAAO,EAAE;YAC/B,IAAM,KAAK,GAAG,OAAO,CAAC,SAAS,CAAC,CAAA;YAEhC,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC;gBAClB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAQ,CAAC,CAAA,CAAC,MAAM;SACrD;QAED,IAAI,CAAC,UAAU,GAAG,EAAE,CAAA;QACpB,KAAK,IAAM,SAAS,IAAI,UAAU,EAAE;YAClC,IAAM,KAAK,GAAG,UAAU,CAAC,SAAS,CAAC,CAAA;YAEnC,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC;gBAClB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,IAAI,CAAQ,CAAC,CAAA,CAAC,MAAM;SAC9D;QAED,KAAK,IAAM,EAAE,IAAI,IAAI,CAAC,QAAQ,EAAE;YAC9B,IAAM,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,EAAiB,CAAC,CAAA;YAChD,IAAI,OAAO,CAAC,KAAK,CAAC,MAAM,IAAI,CAAC;gBAC3B,SAAQ;YAEV,OAAO,CAAC,KAAK,GAAG,cAAM,CAAC,OAAO,CAAC,KAAK,EAAE,UAAC,IAAI,IAAK,OAAA,IAAI,CAAC,aAAa,EAAlB,CAAkB,CAAC,CAAA;YAEnE,IAAI,CAAC,CAAC,EAAE,IAAI,OAAO,IAAI,EAAE,IAAI,QAAQ,IAAI,EAAE,IAAI,OAAO,CAAC;gBACrD,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,IAAI,CAAA;SACjC;;IACH,CAAC;IACH,mBAAC;AAAD,CA1JA,AA0JC,CA1JiC,0BAAW,GA0J5C;AA1JY,oCAAY;AA2JzB,YAAY,CAAC,SAAS,EAAE,CAAA;AAExB;IAAoC,0CAAa;IAAjD;;IAsCA,CAAC;IAjCC,mCAAU,GAAV,UAAW,OAAY;QACrB,iBAAM,UAAU,YAAC,OAAO,CAAC,CAAA;QACzB,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,gBAAgB,GAAG,IAAI,CAAC,KAAK,CAAC,gBAAgB,CAAA;QACjE,IAAI,CAAC,cAAc,GAAG,EAAE,CAAA;QACxB,yBAAW,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,EAAC,MAAM,EAAE,IAAI,EAAC,CAAC,CAAA;IACxE,CAAC;IAED,+BAAM,GAAN;QACE,0BAAY,CAAC,IAAI,CAAC,cAAc,CAAC,CAAA;QACjC,iBAAM,MAAM,WAAE,CAAA;IAChB,CAAC;IAED,oCAAW,GAAX;QACE,OAAO,iBAAM,WAAW,WAAE,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAA;IACrD,CAAC;IAED,+BAAM,GAAN;QACE,iBAAM,MAAM,WAAE,CAAA;QAEd,IAAM,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC,CAAA;QAC1D,OAAO,CAAC,MAAM,EAAE,CAAA;QAEhB,WAAK,CAAC,IAAI,CAAC,EAAE,CAAC,CAAA;QACd,IAAI,CAAC,EAAE,CAAC,WAAW,CAAC,OAAO,CAAC,EAAE,CAAC,CAAA;IACjC,CAAC;IAED,kCAAS,GAAT;QACE,OAAO,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAa,CAAA;IACzD,CAAC;IAED,mCAAU,GAAV;QACE,OAAO,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAa,CAAA;IAC3D,CAAC;IACH,qBAAC;AAAD,CAtCA,AAsCC,CAtCmC,0BAAa,GAsChD;AAtCY,wCAAc;AAmD3B;IAAgC,sCAAS;IAIvC,oBAAY,KAAiC;eAC3C,kBAAM,KAAK,CAAC;IACd,CAAC;IAEM,oBAAS,GAAhB;QACE,IAAI,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY,CAAA;QAClC,IAAI,CAAC,SAAS,CAAC,YAAY,GAAG,cAAc,CAAA;QAE5C,IAAI,CAAC,MAAM,CAAC;YACV,OAAO,EAAW,CAAE,CAAC,CAAC,QAAQ,CAAW;YACzC,gBAAgB,EAAE,CAAE,CAAC,CAAC,QAAQ,EAAE,OAAO,CAAE;SAC1C,CAAC,CAAA;IACJ,CAAC;IAMD,sBAAI,mCAAW;QAJf,kEAAkE;QAClE,8DAA8D;QAC9D,kEAAkE;QAClE,+DAA+D;aAC/D;YACE,QAAQ,IAAI,CAAC,gBAAgB,EAAE;gBAC7B,KAAK,OAAO,CAAC;gBACb,KAAK,OAAO,CAAC,CAAC;oBACZ,OAAO,aAAa,CAAA;iBACrB;gBACD,KAAK,MAAM,CAAC;gBACZ,KAAK,OAAO,CAAC,CAAC;oBACZ,OAAO,cAAc,CAAA;iBACtB;aACF;QACH,CAAC;;;OAAA;IACH,iBAAC;AAAD,CAlCA,AAkCC,CAlC+B,sBAAS,GAkCxC;AAlCY,gCAAU;AAmCvB,UAAU,CAAC,SAAS,EAAE,CAAA","file":"toolbar_box.js","sourcesContent":["import * as p from \"core/properties\"\nimport {Location, SizingMode} from \"core/enums\"\nimport {empty} from \"core/dom\"\nimport {logger} from \"core/logging\"\nimport {isString} from \"core/util/types\"\nimport {any, sortBy, includes} from \"core/util/array\"\n\nimport {Tool} from \"./tool\"\nimport {ButtonTool} from \"./button_tool\"\nimport {ActionTool} from \"./actions/action_tool\"\nimport {HelpTool} from \"./actions/help_tool\"\nimport {GestureTool} from \"./gestures/gesture_tool\"\nimport {InspectTool} from \"./inspectors/inspect_tool\"\nimport {ToolbarBase, ToolbarBaseView, GestureType} from \"./toolbar_base\"\nimport {ToolProxy} from \"./tool_proxy\"\n\nimport {LayoutDOM, LayoutDOMView} from \"../layouts/layout_dom\"\nimport {build_views, remove_views} from \"core/build_views\"\n\nexport namespace ProxyToolbar {\n  export interface Attrs extends ToolbarBase.Attrs {}\n\n  export interface Props extends ToolbarBase.Props {}\n}\n\nexport interface ProxyToolbar extends ProxyToolbar.Attrs {}\n\nexport class ProxyToolbar extends ToolbarBase {\n\n  properties: ProxyToolbar.Props\n\n  constructor(attrs?: Partial<ProxyToolbar.Attrs>) {\n    super(attrs)\n  }\n\n  static initClass(): void {\n    this.prototype.type = \"ProxyToolbar\"\n  }\n\n  _proxied_tools: (Tool | ToolProxy)[]\n\n  initialize(): void {\n    super.initialize()\n    this._init_tools()\n    this._merge_tools()\n  }\n\n  protected _init_tools(): void {\n    for (const tool of this.tools) {\n      if (tool instanceof InspectTool) {\n        if (!any(this.inspectors, (t) => t.id == tool.id))\n          this.inspectors = this.inspectors.concat([tool])\n      } else if (tool instanceof HelpTool) {\n        if (!any(this.help, (t) => t.id == tool.id))\n          this.help = this.help.concat([tool])\n      } else if (tool instanceof ActionTool) {\n        if (!any(this.actions, (t) => t.id == tool.id))\n          this.actions = this.actions.concat([tool])\n      } else if (tool instanceof GestureTool) {\n        let event_types: GestureType[]\n        let multi: boolean\n        if (isString(tool.event_type)) {\n          event_types = [tool.event_type]\n          multi = false\n        } else {\n          event_types = tool.event_type || []\n          multi = true\n        }\n\n        for (let et of event_types) {\n          if (!(et in this.gestures)) {\n            logger.warn(`Toolbar: unknown event type '${et}' for tool: ${tool.type} (${tool.id})`)\n            continue\n          }\n\n          if (multi)\n            et = \"multi\"\n\n          if (!any(this.gestures[et].tools, (t) => t.id == tool.id))\n            this.gestures[et].tools = this.gestures[et].tools.concat([tool])\n        }\n      }\n    }\n  }\n\n  protected _merge_tools(): void {\n    // Go through all the tools on the toolbar and replace them with\n    // a proxy e.g. PanTool, BoxSelectTool, etc.\n    this._proxied_tools = []\n\n    const inspectors: {[key: string]: InspectTool[]} = {}\n    const actions: {[key: string]: ActionTool[]} = {}\n    const gestures: {[key: string]: {[key: string]: GestureTool[]}} = {}\n\n    const new_help_tools = []\n    const new_help_urls = []\n    for (const helptool of this.help) {\n      if (!includes(new_help_urls, helptool.redirect)) {\n        new_help_tools.push(helptool)\n        new_help_urls.push(helptool.redirect)\n      }\n    }\n    this._proxied_tools.push(...new_help_tools)\n    this.help = new_help_tools\n\n    for (const event_type in this.gestures) {\n      const gesture = this.gestures[event_type as GestureType]\n      if (!(event_type in gestures)) {\n        gestures[event_type] = {}\n      }\n      for (const tool of gesture.tools) {\n        if (!(tool.type in gestures[event_type])) {\n          gestures[event_type][tool.type] = []\n        }\n        gestures[event_type][tool.type].push(tool)\n      }\n    }\n\n    for (const tool of this.inspectors) {\n      if (!(tool.type in inspectors)) {\n        inspectors[tool.type] = []\n      }\n      inspectors[tool.type].push(tool)\n    }\n\n    for (const tool of this.actions) {\n      if (!(tool.type in actions)) {\n        actions[tool.type] = []\n      }\n      actions[tool.type].push(tool)\n    }\n\n    // Add a proxy for each of the groups of tools.\n    const make_proxy = (tools: ButtonTool[], active: boolean = false) => {\n      const proxy = new ToolProxy({tools, active})\n      this._proxied_tools.push(proxy)\n      return proxy\n    }\n\n    for (const event_type in gestures) {\n      const gesture = this.gestures[event_type as GestureType]\n      gesture.tools = []\n\n      for (const tool_type in gestures[event_type]) {\n        const tools = gestures[event_type][tool_type]\n\n        if (tools.length > 0) {\n          const proxy = make_proxy(tools)\n          gesture.tools.push(proxy as any)\n          this.connect(proxy.properties.active.change, this._active_change.bind(this, proxy))\n        }\n      }\n    }\n\n    this.actions = []\n    for (const tool_type in actions) {\n      const tools = actions[tool_type]\n\n      if (tools.length > 0)\n        this.actions.push(make_proxy(tools) as any) // XXX\n    }\n\n    this.inspectors = []\n    for (const tool_type in inspectors) {\n      const tools = inspectors[tool_type]\n\n      if (tools.length > 0)\n        this.inspectors.push(make_proxy(tools, true) as any) // XXX\n    }\n\n    for (const et in this.gestures) {\n      const gesture = this.gestures[et as GestureType]\n      if (gesture.tools.length == 0)\n        continue\n\n      gesture.tools = sortBy(gesture.tools, (tool) => tool.default_order)\n\n      if (!(et == 'pinch' || et == 'scroll' || et == 'multi'))\n        gesture.tools[0].active = true\n    }\n  }\n}\nProxyToolbar.initClass()\n\nexport class ToolbarBoxView extends LayoutDOMView {\n  model: ToolbarBox\n\n  protected _toolbar_views: {[key: string]: ToolbarBaseView}\n\n  initialize(options: any): void {\n    super.initialize(options)\n    this.model.toolbar.toolbar_location = this.model.toolbar_location\n    this._toolbar_views = {}\n    build_views(this._toolbar_views, [this.model.toolbar], {parent: this})\n  }\n\n  remove(): void {\n    remove_views(this._toolbar_views)\n    super.remove()\n  }\n\n  css_classes(): string[] {\n    return super.css_classes().concat(\"bk-toolbar-box\")\n  }\n\n  render(): void {\n    super.render()\n\n    const toolbar = this._toolbar_views[this.model.toolbar.id]\n    toolbar.render()\n\n    empty(this.el)\n    this.el.appendChild(toolbar.el)\n  }\n\n  get_width(): number {\n    return this.model.toolbar.vertical ? 30 : null as never\n  }\n\n  get_height(): number {\n    return this.model.toolbar.horizontal ? 30 : null as never\n  }\n}\n\nexport namespace ToolbarBox {\n  export interface Attrs extends LayoutDOM.Attrs {\n    toolbar: ToolbarBase\n    toolbar_location: Location\n  }\n\n  export interface Props extends LayoutDOM.Props {}\n}\n\nexport interface ToolbarBox extends ToolbarBox.Attrs {}\n\nexport class ToolbarBox extends LayoutDOM {\n\n  properties: ToolbarBox.Props\n\n  constructor(attrs?: Partial<ToolbarBox.Attrs>) {\n    super(attrs)\n  }\n\n  static initClass(): void {\n    this.prototype.type = 'ToolbarBox'\n    this.prototype.default_view = ToolbarBoxView\n\n    this.define({\n      toolbar:          [ p.Instance          ],\n      toolbar_location: [ p.Location, \"right\" ],\n    })\n  }\n\n  // XXX: we are overriding LayoutDOM.sizing_mode here. That's a bad\n  // hack, but currently every layoutable is allowed to have its\n  // sizing mode configured, which is wrong. Another example of this\n  // is PlotCanvas which only works with strech_both sizing mode.\n  get sizing_mode(): SizingMode {\n    switch (this.toolbar_location) {\n      case \"above\":\n      case \"below\": {\n        return \"scale_width\"\n      }\n      case \"left\":\n      case \"right\": {\n        return \"scale_height\"\n      }\n    }\n  }\n}\nToolbarBox.initClass()\n"]}