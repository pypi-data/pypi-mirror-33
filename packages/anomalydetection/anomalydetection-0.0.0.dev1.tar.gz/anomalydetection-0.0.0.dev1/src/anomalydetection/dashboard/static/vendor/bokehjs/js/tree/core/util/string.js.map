{"version":3,"sources":["core/util/string.ts"],"names":[],"mappings":";;AAAA,wCAAoC;AAEpC,oBAA2B,GAAW,EAAE,YAAoB,EAAE,QAAoB;IAApB,yBAAA,EAAA,YAAoB;IAChF,OAAO,GAAG,CAAC,MAAM,CAAC,QAAQ,EAAE,YAAY,CAAC,MAAM,CAAC,IAAI,YAAY,CAAA;AAClE,CAAC;AAFD,gCAEC;AAED;IACE,uBAAuB;IACvB,sCAAsC;IACtC,IAAM,CAAC,GAAG,IAAI,KAAK,CAAS,EAAE,CAAC,CAAA;IAC/B,IAAM,SAAS,GAAG,kBAAkB,CAAA;IACpC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,EAAE;QAC3B,CAAC,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC,CAAC,CAAA;KAC7D;IACD,CAAC,CAAC,EAAE,CAAC,GAAG,GAAG,CAAA,CAAqD,sDAAsD;IACtH,CAAC,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,EAAE,CAAC,CAAC,CAAA,CAAE,kDAAkD;IAElH,OAAO,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAA;AACnB,CAAC;AAZD,sBAYC;AAED,IAAI,OAAO,GAAG,IAAI,CAAA;AAElB,kBAAyB,MAAe;IACtC,IAAM,EAAE,GAAG,mBAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,MAAI,OAAO,EAAI,CAAC,CAAC,CAAC,KAAK,EAAE,CAAA;IAEnD,IAAI,MAAM,IAAI,IAAI;QAChB,OAAU,MAAM,SAAI,EAAI,CAAA;;QAExB,OAAO,EAAE,CAAA;AACb,CAAC;AAPD,4BAOC;AAED,gBAAuB,CAAS;IAC9B,OAAO,CAAC,CAAC,OAAO,CAAC,eAAe,EAAE,UAAC,EAAE;QACnC,QAAQ,EAAE,EAAE;YACV,KAAK,GAAG,CAAC,CAAC,OAAO,OAAO,CAAC;YACzB,KAAK,GAAG,CAAC,CAAC,OAAO,MAAM,CAAC;YACxB,KAAK,GAAG,CAAC,CAAC,OAAO,MAAM,CAAC;YACxB,KAAK,GAAG,CAAC,CAAC,OAAO,QAAQ,CAAC;YAC1B,KAAK,GAAG,CAAC,CAAC,OAAO,QAAQ,CAAC;YAC1B,KAAK,GAAG,CAAC,CAAC,OAAO,QAAQ,CAAC;YAC1B,OAAO,CAAC,CAAE,OAAO,EAAE,CAAC;SACrB;IACH,CAAC,CAAC,CAAA;AACJ,CAAC;AAZD,wBAYC;AAED,kBAAyB,CAAS;IAChC,OAAO,CAAC,CAAC,OAAO,CAAC,+BAA+B,EAAE,UAAC,CAAC,EAAE,MAAM;QAC1D,QAAQ,MAAM,EAAE;YACd,KAAK,KAAK,CAAC,CAAE,OAAO,GAAG,CAAC;YACxB,KAAK,IAAI,CAAC,CAAG,OAAO,GAAG,CAAC;YACxB,KAAK,IAAI,CAAC,CAAG,OAAO,GAAG,CAAC;YACxB,KAAK,MAAM,CAAC,CAAC,OAAO,GAAG,CAAC;YACxB,KAAK,MAAM,CAAC,CAAC,OAAO,GAAG,CAAC;YACxB,KAAK,MAAM,CAAC,CAAC,OAAO,GAAG,CAAC;YACxB,OAAO,CAAC,CAAK,OAAO,MAAM,CAAC;SAC5B;IACH,CAAC,CAAC,CAAA;AACJ,CAAC;AAZD,4BAYC;AAED,oBAA2B,IAAY;IACrC,OAAO,oBAAkB,IAAM,CAAA;AACjC,CAAC;AAFD,gCAEC","file":"string.js","sourcesContent":["import {settings} from \"../settings\"\n\nexport function startsWith(str: string, searchString: string, position: number = 0): boolean {\n  return str.substr(position, searchString.length) == searchString\n}\n\nexport function uuid4(): string {\n  // from ipython project\n  // http://www.ietf.org/rfc/rfc4122.txt\n  const s = new Array<string>(32)\n  const hexDigits = \"0123456789ABCDEF\"\n  for (let i = 0; i < 32; i++) {\n    s[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1)\n  }\n  s[12] = \"4\"                                                     // bits 12-15 of the time_hi_and_version field to 0010\n  s[16] = hexDigits.substr((s[16].charCodeAt(0) & 0x3) | 0x8, 1)  // bits 6-7 of the clock_seq_hi_and_reserved to 01\n\n  return s.join(\"\")\n}\n\nlet counter = 1000\n\nexport function uniqueId(prefix?: string): string {\n  const id = settings.dev ? `j${counter++}` : uuid4()\n\n  if (prefix != null)\n    return `${prefix}-${id}`\n  else\n    return id\n}\n\nexport function escape(s: string): string {\n  return s.replace(/(?:[&<>\"'`])/g, (ch) => {\n    switch (ch) {\n      case '&': return '&amp;';\n      case '<': return '&lt;';\n      case '>': return '&gt;';\n      case '\"': return '&quot;';\n      case \"'\": return '&#x27;';\n      case '`': return '&#x60;';\n      default:  return ch;\n    }\n  })\n}\n\nexport function unescape(s: string): string {\n  return s.replace(/&(amp|lt|gt|quot|#x27|#x60);/g, (_, entity) => {\n    switch (entity) {\n      case 'amp':  return '&';\n      case 'lt':   return '<';\n      case 'gt':   return '>';\n      case 'quot': return '\"';\n      case '#x27': return \"'\";\n      case '#x60': return '`';\n      default:     return entity;\n    }\n  })\n}\n\nexport function use_strict(code: string): string {\n  return `'use strict';\\n${code}`\n}\n"]}