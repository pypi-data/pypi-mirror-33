{"version":3,"sources":["safely.ts"],"names":[],"mappings":"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","file":"safely.js","sourcesContent":["// Keep this code as terse and as close to vanila JS as possible. If we\n// arrived here, it means we should trust no one and need to act properly.\n\nfunction _burst_into_flames(error: any): void {\n  // Make box\n  const box = document.createElement(\"div\")\n  box.style.backgroundColor = \"#f2dede\"\n  box.style.border = \"1px solid #a94442\"\n  box.style.borderRadius = \"4px\"\n  box.style.display = \"inline-block\"\n  box.style.fontFamily = \"sans-serif\"\n  box.style.marginTop = \"5px\"\n  box.style.minWidth = \"200px\"\n  box.style.padding = \"5px 5px 5px 10px\"\n  box.classList.add(\"bokeh-error-box-into-flames\")\n\n  // Make button\n  const button = document.createElement(\"span\")\n  button.style.backgroundColor = \"#a94442\"\n  button.style.borderRadius = \"0px 4px 0px 0px\"\n  button.style.color = \"white\"\n  button.style.cursor = \"pointer\"\n  button.style.cssFloat = \"right\"\n  button.style.fontSize = \"0.8em\"\n  button.style.margin = \"-6px -6px 0px 0px\"\n  button.style.padding = \"2px 5px 4px 5px\"\n  button.title = \"close\"\n  button.setAttribute(\"aria-label\", \"close\")\n  button.appendChild(document.createTextNode(\"x\"))\n  button.addEventListener(\"click\", () => body.removeChild(box))\n\n  // Make title\n  const title = document.createElement(\"h3\")\n  title.style.color = \"#a94442\"\n  title.style.margin = \"8px 0px 0px 0px\"\n  title.style.padding = \"0px\"\n  title.appendChild(document.createTextNode(\"Bokeh Error\"))\n\n  // Make message\n  const message = document.createElement(\"pre\")\n  message.style.whiteSpace = \"unset\"\n  message.style.overflowX = \"auto\"\n  message.appendChild(document.createTextNode(error.message || error))\n\n  // Add pieces to box\n  box.appendChild(button)\n  box.appendChild(title)\n  box.appendChild(message)\n\n  // Put box in doc\n  const body = document.getElementsByTagName(\"body\")[0]\n  body.insertBefore(box, body.firstChild)\n}\n\nexport function safely<T>(fn: () => T, silent: boolean = false): T | undefined {\n  try {\n    return fn()\n  } catch (error) {\n    _burst_into_flames(error)\n    if (!silent)\n      throw error\n    else\n      return\n  }\n}\n"]}