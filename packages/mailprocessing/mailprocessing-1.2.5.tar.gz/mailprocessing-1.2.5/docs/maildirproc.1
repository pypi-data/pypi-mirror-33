.\" Automatically generated by Pandoc 1.19.2.1
.\"
.TH "MAILDIRPROC" "1" "" "User Commands" "User Commands"
.hy
.SH NAME
.PP
maildirproc \- filter emails in local Maildirs
.SH SYNOPSIS
.IP
.nf
\f[C]
maildirproc\ \-m\ <maildir>\ [\-m\ <maildir>\ ...\ ]\ [options]
\f[]
.fi
.SH DESCRIPTION
.PP
maildirproc continuously monitors one or more maildirs and processes
mail in them according to logic in an \f[I]rc file\f[], a user defined
piece of Python code.
It also logs its actions to a log file.
By default maildirproc operates continuously: when there is no more mail
to process, maildirproc sleeps one second and then checks again.
And so on.
To make maildirproc exit after the first filtering run, pass the
\-\-once option.
.PP
maildirproc keeps a list of maildir directories to process.
At least one maildir directory must be specified for maildirproc to run.
A maildir directory path can be absolute (starting with a slash) or
non\-absolute.
In the latter case, it will be considered relative to the \f[I]maildir
base directory\f[], which defaults to the current working directory.
There are two ways to specify this information: by passing command line
options, or by setting attributes on the processor object in the rc
file.
The rc file has priority over the command line options.
.PP
In a Maildir++\-style setup, the maildir base directory should typically
be set to ~/Maildir and the maildir list should include the directory .
to make maildirproc process the inbox.
.PP
The default location of the rc file for maildirproc is
\f[C]~/.mailprocessing/maildir.rc\f[] and the default location of its
log file is \f[C]~/.mailprocessing/log\-maildir\f[].
.PP
imapproc can optionally reload the rc file whenever a modification is
detected (that is, the file\[aq]s mtime has changed).
This automatic reloading is turned off by default and can be enabled
either by passing the \f[C]\-\-auto\-reload\-rcfile\f[] command line
option or by setting the \f[C]auto_reload_rcfile\f[] property to
\f[C]True\f[] on the processor object in the rc file.
.SH OPTIONS
.SS Common options
.PP
maildirproc and imapproc both take the following common command line
options:
.TP
.B \-\-version
show program\[aq]s version number and exit
.RS
.RE
.TP
.B \-h, \-\-help
show this help message and exit
.RS
.RE
.TP
.B \-\-auto\-reload\-rcfile
turn on automatic reloading of the rc file when it has been modified
.RS
.RE
.TP
.B \-\-dry\-run
just log what should have been done; implies \-\-once
.RS
.RE
.TP
.B \-l FILE, \-\-logfile=FILE
send log to FILE instead of the default (~/.maildirproc/log)
.RS
.RE
.TP
.B \-\-log\-level=INTEGER
only include log messages with this log level or lower; defaults to 1
.RS
.RE
.TP
.B \-\-once
only process the maildirs once and then exit; without this flag,
maildirproc will scan the maildirs continuously
.RS
.RE
.TP
.B \-r FILE, \-\-rcfile=FILE
use the given rc file instead of the default (~/.maildirproc/default.rc)
.RS
.RE
.TP
.B \-\-test
test mode; implies \-\-dry\-run, \-\-once, \-\-logfile=\- and
\-\-verbose
.RS
.RE
.TP
.B \-v, \-\-verbose
increase log level one step
.RS
.RE
.SS maildirproc specific options
.PP
The following options are specific to maildirproc:
.TP
.B \-m DIRECTORY, \-\-maildir=DIRECTORY
add DIRECTORY to the set of maildir directories to process (can be
passed multiple times); if DIRECTORY is relative, it will be considered
relative to the maildir base directory
.RS
.RE
.TP
.B \-b DIRECTORY, \-\-maildir\-base=DIRECTORY
set maildir base directory; defaults to the current working directory
.RS
.RE
.TP
.B \-p PREFIX, \-\-folder\-prefix
prefix Maildir names with PREFIX; defaults to \[aq].\[aq]
.RS
.RE
.TP
.B \-s SEP, \-\-folder\-separator=SEP
use sep as a folder separator in maildir names; defaults to \[aq].\[aq].
List style folder names passed to create_folder() will be joined by this
character, e.g.
["github", "jrosdahl", "maildirproc"] will become
".github.jrosdahl.maildirproc.
.RS
.RE
.SH EXAMPLES
.PP
For some examples, see the examples directory.
.SH SEE ALSO
.PP
imapproc(1), mailprocessing(5)
