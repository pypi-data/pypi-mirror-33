{
    "$schema": "http://json-schema.org/draft-06/schema#",
    "title": "GM order",
    "description": "Used to put an order to our backoffice system",
    "type": "object",
    "properties": {
        "customer": {
            "type": "object",
            "decription": "Customer data",
            "properties": {
                "name": {
                    "description": "Customer name (in any format)",
                    "type": "string"
                },
                "id": {
                    "description": "Customer id in backoffice",
                    "type": "integer"
                },
                "email": {
                    "description": "Customer email",
                    "type": "string"
                },
                "phone": {
                    "description": "Customer phone (in any format)",
                    "type": "string"
                },
                "legal": {
                    "desciption": "Customer legal info",
                    "type": "object",
                    "properties": {
                        "name": {
                            "description": "Customer legal name",
                            "type": "string"
                        },
                        "legal_address": {
                            "description": "Customer legal address",
                            "type": "string"
                        },
                        "fact_address": {
                            "description": "Customer real address",
                            "type": "string"
                        },
                        "inn": {
                            "description": "Customer INN",
                            "type": "string"
                       },
                        "kpp": {
                            "description": "Customer KPP",
                            "type": "string"
                        },
                        "okpo": {
                            "description": "Customer OKPO",
                            "type": "string"
                        },
                        "ogrn": {
                            "description": "Customer OGRN",
                            "type": "string"
                        },
                        "bank_name": {
                            "description": "Customer bank name",
                            "type": "string"
                        },
                        "bik": {
                            "description": "Customer bank BIK",
                            "type": "string"
                        },
                        "bank_address": {
                            "description": "Bank legal address",
                            "type": "string"
                        },
                        "corr_account": {
                            "description": "Bank legal corr. account",
                            "type": "string"
                        },
                        "bank_account": {
                            "description": "Customer legal account in passed bank",
                            "type": "string"
                        }
                    },
                    "required": [
                        "name",
                        "inn"
                    ]
                }
            }
        },
        "manager": {
            "desciption": "Order manager, slack username or ID",
            "type": "string"
        },
        "payment_way_type": {
            "description": "The payment way. Cash by default",
            "type": "string",
            "enum": [
                "cash",
                "cashless",
                "driveracquiring"
            ]
        },
        "utm": {
            "description": "UTM data",
            "type": "object"
        },
        "roistat_id": {
            "description": "Visit id from roistat.ru",
            "type": "string"
        },
        "customer_comment": {
            "description": "Customer comment to the order",
            "type": "string"
        },
        "is_confirmed": {
            "description": "Should be set if user completed all checkout steps",
            "type": "boolean"
        }
    },
    "required": [
        "customer"
    ]
}
