<!DOCTYPE html>
<html>
<title>My Simple Git Server</title>
<head>
<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.3.1.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"></script>
<script type="text/javascript">
if (!window.location.origin) {
  window.location.origin = window.location.protocol + "//" + window.location.hostname + (window.location.port ? ':' + window.location.port: '');
}
origin = window.location.origin;

function check_submit() {
	var x = document.forms["add_new_repository"]["add_new_repository"].value;
	if (x == "") {
		alert("Repository Name must be filled out");
		return false;
	}
}
</script>
</head>
<body>
<div class="container">
	<table class="table table-hover table-dark table-striped">
	<thead>
		<tr>
			<th>Projects</th>
		</tr>
	</thead>
	<tbody>
		{% if repos %}
			{% for repo in repos %}
				<tr><td><script>document.write(origin)</script>{{ repo }}</td></tr>
			{% endfor %}
		{% else %}
			<tr><td><script>document.write(origin)</script></td></tr>
		{% endif %}
	</tbody>
	</table>
</div>
<div class="container">
	<form name="add_new_repository" method="get" action="repository" onsubmit="return check_submit()">
	<h4>Initialize a bare Repository</h4>
		<div class="form-group">
			<label for="repository_name">Repository Name:</label>
			<input type="text" class="form-control" id="repository_name" name="add_new_repository">
		</div>
		<button type="submit" class="btn btn-primary">Initialize a bare Repository</button>
	</form>
</div>
{% block repo_message %}{% endblock %}
</body>
</html>