smart_append_path
