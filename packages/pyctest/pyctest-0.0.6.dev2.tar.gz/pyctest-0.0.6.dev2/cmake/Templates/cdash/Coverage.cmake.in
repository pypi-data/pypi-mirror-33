
if(EXISTS "${CMAKE_CURRENT_LIST_DIR}/PyCTestPreInit.cmake")
    include("${CMAKE_CURRENT_LIST_DIR}/PyCTestPreInit.cmake")
endif(EXISTS "${CMAKE_CURRENT_LIST_DIR}/PyCTestPreInit.cmake")

if(EXISTS "${CMAKE_CURRENT_LIST_DIR}/Init.cmake")
    
    include("${CMAKE_CURRENT_LIST_DIR}/Init.cmake")
    include_if("${CMAKE_CURRENT_LIST_DIR}/PyCTestPostInit.cmake")

    message(STATUS " -- Starting ${MODEL} Coverage - ${CTEST_BUILD_NAME} --")
    
    setup(Coverage)
    # run the tests
    ctest_test(BUILD "${CTEST_BINARY_DIRECTORY}" APPEND SCHEDULE_RANDOM OFF RETURN_VALUE rctest)
    # process the coverage
    message(STATUS "Processing the coverage...")
    ctest_coverage(BUILD "${CTEST_BINARY_DIRECTORY}" APPEND RETURN_VALUE rccov)
    # submit
    submit(Coverage)
    
    message(STATUS " -- Finished ${MODEL} Coverage - ${CTEST_BUILD_NAME} --")

endif(EXISTS "${CMAKE_CURRENT_LIST_DIR}/Init.cmake")
