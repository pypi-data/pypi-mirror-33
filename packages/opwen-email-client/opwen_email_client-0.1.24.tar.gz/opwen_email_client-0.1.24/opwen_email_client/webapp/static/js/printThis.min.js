!function(f){function h(e,t){t&&e.append(t.jquery?t.clone():t)}function u(e,t,n){var a,i,o,r=t.clone(n.formValues);n.formValues&&(a=r,i="select, textarea",o=t.find(i),a.find(i).each(function(e,t){f(t).val(o.eq(e).val())})),n.removeScripts&&r.find("script").remove(),n.printContainer?r.appendTo(e):r.each(function(){f(this).children().appendTo(e)})}var y;f.fn.printThis=function(e){y=f.extend({},f.fn.printThis.defaults,e);var l=this instanceof jQuery?this:f(this),t="printThis-"+(new Date).getTime();if(window.location.hostname!==document.domain&&navigator.userAgent.match(/msie/i)){var n='javascript:document.write("<head><script>document.domain=\\"'+document.domain+'\\";<\/script></head><body></body>")',a=document.createElement("iframe");a.name="printIframe",a.id=t,a.className="MSIE",document.body.appendChild(a),a.src=n}else{f("<iframe id='"+t+"' name='printIframe' />").appendTo("body")}var m=f("#"+t);y.debug||m.css({position:"absolute",width:"0px",height:"0px",left:"-600px",top:"-600px"}),setTimeout(function(){var e,t,n,a;y.doctypeString&&(e=m,t=y.doctypeString,(a=(n=(n=e.get(0)).contentWindow||n.contentDocument||n).document||n.contentDocument||n).open(),a.write(t),a.close());var i,o=m.contents(),r=o.find("head"),s=o.find("body"),d=f("base");i=!0===y.base&&0<d.length?d.attr("href"):"string"==typeof y.base?y.base:document.location.protocol+"//"+document.location.host,r.append('<base href="'+i+'">'),y.importCSS&&f("link[rel=stylesheet]").each(function(){var e=f(this).attr("href");if(e){var t=f(this).attr("media")||"all";r.append("<link type='text/css' rel='stylesheet' href='"+e+"' media='"+t+"'>")}}),y.importStyle&&f("style").each(function(){r.append(this.outerHTML)}),y.pageTitle&&r.append("<title>"+y.pageTitle+"</title>"),y.loadCSS&&(f.isArray(y.loadCSS)?jQuery.each(y.loadCSS,function(e,t){r.append("<link type='text/css' rel='stylesheet' href='"+this+"'>")}):r.append("<link type='text/css' rel='stylesheet' href='"+y.loadCSS+"'>"));var c=y.copyTagClasses;if(c&&(-1!==(c=!0===c?"bh":c).indexOf("b")&&s.addClass(f("body")[0].className),-1!==c.indexOf("h")&&o.find("html").addClass(f("html")[0].className)),h(s,y.header),y.canvas){var p=0;l.find("canvas").addBack("canvas").each(function(){f(this).attr("data-printthis",p++)})}u(s,l,y),y.canvas&&s.find("canvas").each(function(){var e=f(this).data("printthis"),t=f('[data-printthis="'+e+'"]');this.getContext("2d").drawImage(t[0],0,0),t.removeData("printthis")}),y.removeInline&&(f.isFunction(f.removeAttr)?o.find("body *").removeAttr("style"):o.find("body *").attr("style","")),h(s,y.footer),setTimeout(function(){m.hasClass("MSIE")?(window.frames.printIframe.focus(),r.append("<script>  window.print(); <\/script>")):document.queryCommandSupported("print")?m[0].contentWindow.document.execCommand("print",!1,null):(m[0].contentWindow.focus(),m[0].contentWindow.print()),y.debug||setTimeout(function(){m.remove()},1e3)},y.printDelay)},333)},f.fn.printThis.defaults={debug:!1,importCSS:!0,importStyle:!1,printContainer:!0,loadCSS:"",pageTitle:"",removeInline:!1,printDelay:333,header:null,footer:null,formValues:!0,canvas:!1,base:!1,doctypeString:"<!DOCTYPE html>",removeScripts:!1,copyTagClasses:!1}}(jQuery);