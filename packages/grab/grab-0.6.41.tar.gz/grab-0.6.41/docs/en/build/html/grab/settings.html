
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Grab Settings &#8212; Grab 0.6 documentation</title>
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.6',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Debugging" href="debugging.html" />
    <link rel="prev" title="Setting up the Grab Request" href="request_setup.html" /> 
  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="debugging.html" title="Debugging"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="request_setup.html" title="Setting up the Grab Request"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Grab 0.6 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="grab-settings">
<span id="id1"></span><h1>Grab Settings<a class="headerlink" href="#grab-settings" title="Permalink to this headline">¶</a></h1>
<div class="section" id="network-options">
<h2>Network options<a class="headerlink" href="#network-options" title="Permalink to this headline">¶</a></h2>
<div class="section" id="url">
<span id="option-url"></span><h3>url<a class="headerlink" href="#url" title="Permalink to this headline">¶</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
<p>The URL of the requested web page. You can use relative URLS, in which case Grab will build
the absolute url by joining the relative URL with the URL or previously requested document.
Be aware that Grab does not automatically escape unsafe characters in the URL.
This is a design feature. You can use <cite>urllib.quote</cite> and <cite>urllib.quote_plus</cite> functions to make your URLs safe.</p>
<p>More info about valid URLs is in <a class="reference external" href="http://www.ietf.org/rfc/rfc2396.txt">RFC 2396</a>.</p>
</div>
<div class="section" id="timeout">
<span id="option-timeout"></span><h3>timeout<a class="headerlink" href="#timeout" title="Permalink to this headline">¶</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">int</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">15</td>
</tr>
</tbody>
</table>
<p>Maximum time for a network operation. If it is exceeded, GrabNetworkTimeout is raised.</p>
</div>
<div class="section" id="connect-timeout">
<span id="option-connect-timeout"></span><h3>connect_timeout<a class="headerlink" href="#connect-timeout" title="Permalink to this headline">¶</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">int</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">3</td>
</tr>
</tbody>
</table>
<p>Maximum time for connection to the remote server and receipt of an initial
response. If it is exceeded, GrabNetworkTimeout is raised.</p>
</div>
<div class="section" id="follow-refresh">
<span id="option-follow-refresh"></span><h3>follow_refresh<a class="headerlink" href="#follow-refresh" title="Permalink to this headline">¶</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">bool</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">False</td>
</tr>
</tbody>
</table>
<p>Automatically follow the URL specified in &lt;meta http-equiv=”refresh”&gt; tag.</p>
</div>
<div class="section" id="follow-location">
<span id="option-follow-location"></span><h3>follow_location<a class="headerlink" href="#follow-location" title="Permalink to this headline">¶</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">bool</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">True</td>
</tr>
</tbody>
</table>
<p>Automatically follow the location in 301/302 response.</p>
</div>
<div class="section" id="interface">
<span id="option-interface"></span><h3>interface<a class="headerlink" href="#interface" title="Permalink to this headline">¶</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
<p>The network interface through which the request should be submitted.</p>
<p>To specify the interface by its OS name, use “if!***” format, e.g. “if!eth0”.
To specify the interface by its name or ip address, use “host!***” format, e.g.
“host!127.0.0.1” or “host!localhost”.</p>
<p>See also the pycurl manual: <a class="reference external" href="http://curl.haxx.se/libcurl/c/curl_easy_setopt.html#CURLOPTINTERFACE">http://curl.haxx.se/libcurl/c/curl_easy_setopt.html#CURLOPTINTERFACE</a></p>
</div>
<div class="section" id="redirect-limit">
<span id="option-redirect-limit"></span><h3>redirect_limit<a class="headerlink" href="#redirect-limit" title="Permalink to this headline">¶</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">int</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">10</td>
</tr>
</tbody>
</table>
<p>Set the maximum number of redirects that Grab will do for one request.
Redirects follow the “Location” header in 301/302 network responses, and
also follow the URL specified in meta refresh tags.</p>
</div>
<div class="section" id="userpwd">
<span id="option-userpwd"></span><h3>userpwd<a class="headerlink" href="#userpwd" title="Permalink to this headline">¶</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
<p>The username and the password to send during HTTP authorization. The value of that options is the string of format “username:password”.</p>
</div>
</div>
<div class="section" id="http-options">
<h2>HTTP Options<a class="headerlink" href="#http-options" title="Permalink to this headline">¶</a></h2>
<div class="section" id="user-agent">
<span id="option-user-agent"></span><h3>user_agent<a class="headerlink" href="#user-agent" title="Permalink to this headline">¶</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">see below</td>
</tr>
</tbody>
</table>
<p>Sets the content of the “User-Agent” HTTP-header. By default, Grab randomly chooses a user agent
from the list of real user agents that is built into Grab itself.</p>
</div>
<div class="section" id="user-agent-file">
<span id="option-user-agent-file"></span><h3>user_agent_file<a class="headerlink" href="#user-agent-file" title="Permalink to this headline">¶</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
<p>Path to the text file with User-Agent strings. If this option is specified, then
Grab randomly chooses one line from that file.</p>
</div>
<div class="section" id="method">
<span id="option-method"></span><h3>method<a class="headerlink" href="#method" title="Permalink to this headline">¶</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">“GET”</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Possible values:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">“GET”, “POST”, “PUT”, “DELETE”</td>
</tr>
</tbody>
</table>
<p>The HTTP request method to use. By default, GET is used. If you specify <cite>post</cite> or
<cite>multipart_post</cite> options, then Grab automatically changes the method to POST.</p>
</div>
<div class="section" id="post">
<span id="option-post"></span><h3>post<a class="headerlink" href="#post" title="Permalink to this headline">¶</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">sequence of pairs or dict or string</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
<p>Data to be sent with the POST request. Depending on the type of data, the corresponding method
of handling that data is selected. The default type for POST requests is “application/x-www-form-urlencoded”.</p>
<p>In case of <cite>dict</cite> or sequence of pairs, the following algorithm is applied to each value:</p>
<ul class="simple">
<li>objects of <cite>grab.upload.UploadFile</cite> class are converted into pycurl structures</li>
<li>unicode strings are converted into byte strings</li>
<li>None values are converted into empty strings</li>
</ul>
<p>If <cite>post</cite> value is just a string, then it is placed into the network request without any modification.</p>
</div>
<div class="section" id="multipart-post">
<span id="option-multipart-post"></span><h3>multipart_post<a class="headerlink" href="#multipart-post" title="Permalink to this headline">¶</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">sequence of pairs or dict</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
<p>Data to be sent with the POST request. This option forces the POST request to be
in “multipart/form-data” form.</p>
</div>
<div class="section" id="headers">
<span id="option-headers"></span><h3>headers<a class="headerlink" href="#headers" title="Permalink to this headline">¶</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">dict</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
<p>Additional HTTP-headers. The value of this option will be added to headers
that Grab generates by default. See details in <a class="reference internal" href="request_headers.html#grab-http-headers"><span class="std std-ref">Work with HTTP Headers</span></a>.</p>
</div>
<div class="section" id="common-headers">
<span id="option-common-headers"></span><h3>common_headers<a class="headerlink" href="#common-headers" title="Permalink to this headline">¶</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">dict</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
<p>By default, Grab generates some common HTTP headers to mimic the behaviour of a real web browser.
If you have trouble with these default headers, you can specify your own headers with
this option. Please note that the usual way to specify a header is to use the <a class="reference internal" href="#option-headers"><span class="std std-ref">headers</span></a> option. See details in <a class="reference internal" href="request_headers.html#grab-http-headers"><span class="std std-ref">Work with HTTP Headers</span></a>.</p>
</div>
<div class="section" id="reuse-cookies">
<span id="option-reuse-cookies"></span><h3>reuse_cookies<a class="headerlink" href="#reuse-cookies" title="Permalink to this headline">¶</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">bool</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">True</td>
</tr>
</tbody>
</table>
<p>If this option is enabled, then all cookies in each network response are stored
locally and sent back with further requests to the same server.</p>
</div>
<div class="section" id="cookies">
<span id="option-cookies"></span><h3>cookies<a class="headerlink" href="#cookies" title="Permalink to this headline">¶</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">dict</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
<p>Cookies to send to the server. If the option <a class="reference internal" href="#option-reuse-cookies"><span class="std std-ref">reuse_cookies</span></a> is also enabled,
then cookies from the <cite>cookies</cite> option will be joined with stored cookies.</p>
</div>
<div class="section" id="cookiefile">
<span id="option-cookiefile"></span><h3>cookiefile<a class="headerlink" href="#cookiefile" title="Permalink to this headline">¶</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Defaul:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
<p>Before each request, Grab will read cookies from this file and join them with stored cookies. After each response, Grab will save all cookies to that file.
The data stored in the file is a dict serialized as JSON.</p>
</div>
<div class="section" id="referer">
<span id="option-referer"></span><h3>referer<a class="headerlink" href="#referer" title="Permalink to this headline">¶</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">see below</td>
</tr>
</tbody>
</table>
<p>The content of the “Referer” HTTP-header. By default, Grab builds this header with the URL
of the previously requested document.</p>
</div>
<div class="section" id="reuse-referer">
<span id="option-reuse-referer"></span><h3>reuse_referer<a class="headerlink" href="#reuse-referer" title="Permalink to this headline">¶</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">bool</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">True</td>
</tr>
</tbody>
</table>
<p>If this option is enabled, then Grab uses the URL of the previously requested document to build
the content of the “Referer” HTTP header.</p>
</div>
</div>
<div class="section" id="proxy-options">
<h2>Proxy Options<a class="headerlink" href="#proxy-options" title="Permalink to this headline">¶</a></h2>
<div class="section" id="proxy">
<span id="option-proxy"></span><h3>proxy<a class="headerlink" href="#proxy" title="Permalink to this headline">¶</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
<p>The address of the proxy server, in either “domain:port” or “ip:port” format.</p>
</div>
<div class="section" id="proxy-userpwd">
<span id="option-proxy-userpwd"></span><h3>proxy_userpwd<a class="headerlink" href="#proxy-userpwd" title="Permalink to this headline">¶</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
<p>Security data to submit to the proxy if it requires authentication.
Form of data is “username:password”</p>
</div>
<div class="section" id="proxy-type">
<span id="option-proxy-type"></span><h3>proxy_type<a class="headerlink" href="#proxy-type" title="Permalink to this headline">¶</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
<p>Type of proxy server. Available values are “http”, “socks4” and “socks5”.</p>
</div>
<div class="section" id="proxy-auto-change">
<span id="option-proxy-auto-change"></span><h3>proxy_auto_change<a class="headerlink" href="#proxy-auto-change" title="Permalink to this headline">¶</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">bool</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">True</td>
</tr>
</tbody>
</table>
<p>If Grab should change the proxy before every network request.</p>
</div>
</div>
<div class="section" id="response-processing-options">
<h2>Response Processing Options<a class="headerlink" href="#response-processing-options" title="Permalink to this headline">¶</a></h2>
<div class="section" id="encoding">
<span id="option-encoding"></span><h3>encoding<a class="headerlink" href="#encoding" title="Permalink to this headline">¶</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">“gzip”</td>
</tr>
</tbody>
</table>
<p>List of methods that the remote server could use to compress the content of its response. The default value of this option is “gzip”. To disable all
compression, pass the empty string to this option.</p>
</div>
<div class="section" id="document-charset">
<span id="option-document-charset"></span><h3>document_charset<a class="headerlink" href="#document-charset" title="Permalink to this headline">¶</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
<p>The character set of the document’s content.
By default Grab detects the charset of the document automatically. If it detects the charset incorrectly you can specify exact charset with this option.
The charset is used to get unicode representation of the document content and also to build DOM tree.</p>
</div>
<div class="section" id="charset">
<span id="option-charset"></span><h3>charset<a class="headerlink" href="#charset" title="Permalink to this headline">¶</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">‘utf-8’</td>
</tr>
</tbody>
</table>
<p>To send a request to the network Grab should convert all unicode data into bytes. It uses the <cite>charset</cite> for encoding. For example:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">g</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">post</span><span class="o">=</span><span class="sa">b</span><span class="s1">&#39;abc&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>no conversion required. But if</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">g</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">post</span><span class="o">=</span><span class="s1">&#39;Превед, медвед!&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>then the unicode data has to be converted to <cite>charset</cite> encoding. By default that would be utf-8.</p>
</div>
<div class="section" id="nobody">
<span id="option-nobody"></span><h3>nobody<a class="headerlink" href="#nobody" title="Permalink to this headline">¶</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">bool</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">False</td>
</tr>
</tbody>
</table>
<p>Ignore the body of the network response. When this option is enabled, the connection is
abandoned at the moment when remote server transfers all response headers and
begins to transfer the body of the response. You can use this option with any HTTP method.</p>
</div>
<div class="section" id="body-maxsize">
<span id="option-body-maxsize"></span><h3>body_maxsize<a class="headerlink" href="#body-maxsize" title="Permalink to this headline">¶</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">int</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
<p>A limit on the maximum size of data that should be received from the remote server.
If the limit is reached, the connection is abandoned and you can work with the data
received so far.</p>
</div>
<div class="section" id="lowercased-tree">
<span id="option-lowercased-tree"></span><h3>lowercased_tree<a class="headerlink" href="#lowercased-tree" title="Permalink to this headline">¶</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">type:</th><td class="field-body">bool</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">False</td>
</tr>
</tbody>
</table>
<p>Convert the content of the document to lowercase before passing it to the lxml library to build the DOM tree.
This option does not affect the content of <cite>response.body</cite>, which always stores the original data.</p>
</div>
<div class="section" id="strip-null-bytes">
<span id="option-strip-null-bytes"></span><h3>strip_null_bytes<a class="headerlink" href="#strip-null-bytes" title="Permalink to this headline">¶</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">bool</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">True</td>
</tr>
</tbody>
</table>
<p>Control the removal of null bytes from the body of HTML documents before they a re passed to lxml to build a DOM tree.
lxml stops processing HTML documents at the first place where it finds a null byte. To avoid such issues Grab,
removes null bytes from the document body by default. This option does not affect the content of <cite>response.body</cite> that always stores the original data.</p>
</div>
<div class="section" id="body-inmemory">
<span id="option-body-inmemory"></span><h3>body_inmemory<a class="headerlink" href="#body-inmemory" title="Permalink to this headline">¶</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">bool</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">True</td>
</tr>
</tbody>
</table>
<p>Control the way the network response is received. By default, Grab downloads data into memory.
To handle large files, you can set <cite>body_inmemory=False</cite> to download the network response directly to the disk.</p>
</div>
<div class="section" id="body-storage-dir">
<span id="option-body-storage-dir"></span><h3>body_storage_dir<a class="headerlink" href="#body-storage-dir" title="Permalink to this headline">¶</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">bool</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
<p>If you use <cite>body_inmemory=False</cite>, then you have to specify the directory where Grab will save network requests.</p>
</div>
<div class="section" id="body-storage-filename">
<span id="option-body-storage-filename"></span><h3>body_storage_filename<a class="headerlink" href="#body-storage-filename" title="Permalink to this headline">¶</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
<p>If you use <cite>body_inmemory=False</cite>, you can let Grab automatically choose names for the files where it saves network responses.
By default, Grab randomly builds unique names for files. With the <cite>body_storage_filename</cite> option, you can choose the
exact file name to save response to. Note that Grab will save every response to that file, so you need to change
the <cite>body_storage_filename</cite> option before each new request, or set it to None to enable default randomly generated file names.</p>
</div>
<div class="section" id="content-type">
<span id="option-content-type"></span><h3>content_type<a class="headerlink" href="#content-type" title="Permalink to this headline">¶</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">“html”</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Available values:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">“html” and “xml”</td>
</tr>
</tbody>
</table>
<p>This option controls which lxml parser is used to process the body of the response. By default, the html parser is used.
If you want to parse XML, then you may need to change this option to “xml” to force the use of an XML parser which does not strip the content of CDATA nodes.</p>
</div>
<div class="section" id="fix-special-entities">
<span id="option-fix-special-entities"></span><h3>fix_special_entities<a class="headerlink" href="#fix-special-entities" title="Permalink to this headline">¶</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">bool</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">True</td>
</tr>
</tbody>
</table>
<p>Fix &amp;#X; entities, where X between 128 and 160. Such entities are parsed by modern
browsers as windows-1251 entities, independently of the real charset of
the document. If this option is True, then such entities
will be replaced with appropriate unicode entities, e.g.: &amp;#151; -&gt;  &amp;#8212;</p>
</div>
</div>
<div class="section" id="debugging">
<h2>Debugging<a class="headerlink" href="#debugging" title="Permalink to this headline">¶</a></h2>
<div class="section" id="log-file">
<span id="option-log-file"></span><h3>log_file<a class="headerlink" href="#log-file" title="Permalink to this headline">¶</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
<p>Path to the file where the body of the recent network response will be saved.
See details at <a class="reference internal" href="debugging.html#grab-debugging-response-saving"><span class="std std-ref">Saving the content of requests and responses</span></a>.</p>
</div>
<div class="section" id="log-dir">
<span id="option-log-dir"></span><h3>log_dir<a class="headerlink" href="#log-dir" title="Permalink to this headline">¶</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
<p>Directory to save the content of each response in. Each response will be saved to a unique file.
See details at <a class="reference internal" href="debugging.html#grab-debugging-response-saving"><span class="std std-ref">Saving the content of requests and responses</span></a>.</p>
</div>
<div class="section" id="verbose-logging">
<span id="option-verbose-logging"></span><h3>verbose_logging<a class="headerlink" href="#verbose-logging" title="Permalink to this headline">¶</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">bool</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">False</td>
</tr>
</tbody>
</table>
<p>This option enables printing to console of all detailed debug info about each pycurl action. Sometimes this can be useful.</p>
</div>
<div class="section" id="debug-post">
<span id="option-debug-post"></span><h3>debug_post<a class="headerlink" href="#debug-post" title="Permalink to this headline">¶</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">bool</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">False</td>
</tr>
</tbody>
</table>
<p>Enable logging of POST request content.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Grab Settings</a><ul>
<li><a class="reference internal" href="#network-options">Network options</a><ul>
<li><a class="reference internal" href="#url">url</a></li>
<li><a class="reference internal" href="#timeout">timeout</a></li>
<li><a class="reference internal" href="#connect-timeout">connect_timeout</a></li>
<li><a class="reference internal" href="#follow-refresh">follow_refresh</a></li>
<li><a class="reference internal" href="#follow-location">follow_location</a></li>
<li><a class="reference internal" href="#interface">interface</a></li>
<li><a class="reference internal" href="#redirect-limit">redirect_limit</a></li>
<li><a class="reference internal" href="#userpwd">userpwd</a></li>
</ul>
</li>
<li><a class="reference internal" href="#http-options">HTTP Options</a><ul>
<li><a class="reference internal" href="#user-agent">user_agent</a></li>
<li><a class="reference internal" href="#user-agent-file">user_agent_file</a></li>
<li><a class="reference internal" href="#method">method</a></li>
<li><a class="reference internal" href="#post">post</a></li>
<li><a class="reference internal" href="#multipart-post">multipart_post</a></li>
<li><a class="reference internal" href="#headers">headers</a></li>
<li><a class="reference internal" href="#common-headers">common_headers</a></li>
<li><a class="reference internal" href="#reuse-cookies">reuse_cookies</a></li>
<li><a class="reference internal" href="#cookies">cookies</a></li>
<li><a class="reference internal" href="#cookiefile">cookiefile</a></li>
<li><a class="reference internal" href="#referer">referer</a></li>
<li><a class="reference internal" href="#reuse-referer">reuse_referer</a></li>
</ul>
</li>
<li><a class="reference internal" href="#proxy-options">Proxy Options</a><ul>
<li><a class="reference internal" href="#proxy">proxy</a></li>
<li><a class="reference internal" href="#proxy-userpwd">proxy_userpwd</a></li>
<li><a class="reference internal" href="#proxy-type">proxy_type</a></li>
<li><a class="reference internal" href="#proxy-auto-change">proxy_auto_change</a></li>
</ul>
</li>
<li><a class="reference internal" href="#response-processing-options">Response Processing Options</a><ul>
<li><a class="reference internal" href="#encoding">encoding</a></li>
<li><a class="reference internal" href="#document-charset">document_charset</a></li>
<li><a class="reference internal" href="#charset">charset</a></li>
<li><a class="reference internal" href="#nobody">nobody</a></li>
<li><a class="reference internal" href="#body-maxsize">body_maxsize</a></li>
<li><a class="reference internal" href="#lowercased-tree">lowercased_tree</a></li>
<li><a class="reference internal" href="#strip-null-bytes">strip_null_bytes</a></li>
<li><a class="reference internal" href="#body-inmemory">body_inmemory</a></li>
<li><a class="reference internal" href="#body-storage-dir">body_storage_dir</a></li>
<li><a class="reference internal" href="#body-storage-filename">body_storage_filename</a></li>
<li><a class="reference internal" href="#content-type">content_type</a></li>
<li><a class="reference internal" href="#fix-special-entities">fix_special_entities</a></li>
</ul>
</li>
<li><a class="reference internal" href="#debugging">Debugging</a><ul>
<li><a class="reference internal" href="#log-file">log_file</a></li>
<li><a class="reference internal" href="#log-dir">log_dir</a></li>
<li><a class="reference internal" href="#verbose-logging">verbose_logging</a></li>
<li><a class="reference internal" href="#debug-post">debug_post</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="request_setup.html"
                        title="previous chapter">Setting up the Grab Request</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="debugging.html"
                        title="next chapter">Debugging</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/grab/settings.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="debugging.html" title="Debugging"
             >next</a> |</li>
        <li class="right" >
          <a href="request_setup.html" title="Setting up the Grab Request"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Grab 0.6 documentation</a> &#187;</li> 
      </ul>
    </div>
    
    <div class="footer" role="contentinfo">
        &#169; Copyright 2015, Gregory Petukhov.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.3.
    </div>
    <p style="margin-top: 0; text-align: center; font-size: 0.8em;">Developed by <a href="http://grablab.io">GrabLab</a> - web scraping and data mining services.</p>
    <p style="margin-top: 0; text-align: center; font-size: 0.8em;">He also does web scraping: <a href="https://www.imscraping.ninja">www.imscraping.ninja</a>.</p>

    <!-- Yandex.Metrika counter --> <script type="text/javascript" > (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter13841917 = new Ya.Metrika({ id:13841917, clickmap:true, trackLinks:true, accurateTrackBounce:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks"); </script> <noscript><div><img src="https://mc.yandex.ru/watch/13841917" style="position:absolute; left:-9999px;" alt="" /></div></noscript> <!-- /Yandex.Metrika counter -->


  </body>
</html>