CHANGES
=======

4.0.6
-----

* file: move directory creation in the upgrade path, not init

4.0.5
-----

* indexer: drop/create missing constraint in slash reencoding migration script
* swift: pass the project domain
* Cap WebOb to <1.8.0
* Cap pbr to <4
* rest: stop using set to validate archive policies
* indexer: detach metric from resource when marked as 'deleted'
* indexer: fix not operator
* service: log version number at startup
* redis: make socket\_timeout optional
* ceph: understandable error on misconfiguration
* set \_\_ne\_\_ method
* fix bad backports
* Push tag to PyPI using Travis

4.0.4
-----

* indexer: fix upgrade when password contains a %
* indexer: do not return empty IN statement in QueryFilter
* indexer: ap rule, catch invalid ap
* tests: Fix resource type with optional uuid
* doc: do not test gnocchi.xyz build on stable branch
* tests: remove useless response\_headers field that breaks with Gabbi 1.39.0
* rest: fail properly if granularity is not a timespan
* Make command line tools log to stderr
* Only install futures on Python 2
* py3: pass a bytes type object to tooz coordinator
* rados: Bump min version

4.0.3
-----

* Doc: update deprecated grafana plugin source
* rest: fix ACL enforcement for non-admin on metric list
* doc: fix formatting issues in default archive policies list
* rest: Fix invalid query validation
* indexer: fix ne operator

4.0.2
-----

* fix syslog\_log\_facility option spelling

4.0.1
-----

* logging: fix syslog output
* Make compatible with tenacity<4.0.0
* Only retry connection to external components in metricd
* swift: we must use the number of default sack
* utils: use ASCII bytes as member id
* rest: return 404 when granularity does not exist
* Install gnocchi flavor of pifpaf
* ceph: change default timeout

4.0.0
-----

* tests: don't use wait without pid
* Remove oslotest dependency
* catch error trying to change sack on pre-gnocchi4 storage
* Rename gabbi\_prefix to gabbi
* gabbi: upgrade test to basic authentication instead of noauth
* Switch from oslo.log to daiquiri
* Return new metrics when creating metrics for a resource
