import typing

from functools import partial
from star_builder import Component
from paas_star.backend import Manager

from .{{module_name}} import {{class_name}}

SERVICE = "{{name}}"
{{class_name}}Manger = typing.NewType("{{class_name}}Manger", Manager)


class {{class_name}}ManagerComponent(Component):

    def resolve(self) -> {{class_name}}Manger:
        return {{class_name}}Manger(Manager(partial({{class_name}}.from_etcd, SERVICE)))


class {{class_name}}Component(Component):

    def resolve(self) -> {{class_name}}:
        return {{class_name}}.from_etcd(SERVICE)
